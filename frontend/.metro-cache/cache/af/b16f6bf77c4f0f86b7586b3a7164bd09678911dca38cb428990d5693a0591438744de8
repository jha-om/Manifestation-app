{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAffirmationStore\", {\n    enumerable: true,\n    get: function () {\n      return useAffirmationStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAffirmationStore = (0, _zustand.create)((set, get) => ({\n    affirmations: [],\n    dailyProgress: null,\n    settings: null,\n    loading: false,\n    fetchAffirmations: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations`);\n        const data = await response.json();\n        set({\n          affirmations: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch affirmations:', error);\n      }\n    },\n    addAffirmation: async text => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            text\n          })\n        });\n        const newAffirmation = await response.json();\n        set(state => ({\n          affirmations: [...state.affirmations, newAffirmation]\n        }));\n      } catch (error) {\n        console.error('Failed to add affirmation:', error);\n        throw error;\n      }\n    },\n    updateAffirmation: async (id, data) => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations/${id}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        const updatedAffirmation = await response.json();\n        set(state => ({\n          affirmations: state.affirmations.map(aff => aff.id === id ? updatedAffirmation : aff)\n        }));\n      } catch (error) {\n        console.error('Failed to update affirmation:', error);\n        throw error;\n      }\n    },\n    deleteAffirmation: async id => {\n      try {\n        await fetch(`${BACKEND_URL}/api/affirmations/${id}`, {\n          method: 'DELETE'\n        });\n        set(state => ({\n          affirmations: state.affirmations.filter(aff => aff.id !== id)\n        }));\n      } catch (error) {\n        console.error('Failed to delete affirmation:', error);\n        throw error;\n      }\n    },\n    fetchTodayProgress: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/progress/today`);\n        const data = await response.json();\n        set({\n          dailyProgress: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch progress:', error);\n      }\n    },\n    markAffirmationComplete: async affirmationId => {\n      try {\n        const today = new Date().toISOString().split('T')[0];\n        const response = await fetch(`${BACKEND_URL}/api/progress/mark-complete`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            date: today,\n            affirmation_id: affirmationId\n          })\n        });\n        const data = await response.json();\n        set({\n          dailyProgress: data\n        });\n\n        // Refresh settings to update streak\n        await get().fetchSettings();\n      } catch (error) {\n        console.error('Failed to mark affirmation complete:', error);\n        throw error;\n      }\n    },\n    fetchSettings: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/settings`);\n        const data = await response.json();\n        set({\n          settings: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch settings:', error);\n      }\n    },\n    updateSettings: async data => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/settings`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        const updatedSettings = await response.json();\n        set({\n          settings: updatedSettings\n        });\n      } catch (error) {\n        console.error('Failed to update settings:', error);\n        throw error;\n      }\n    }\n  }));\n});","lineCount":148,"map":[[7,2,53,0,"Object"],[7,8,53,0],[7,9,53,0,"defineProperty"],[7,23,53,0],[7,24,53,0,"exports"],[7,31,53,0],[8,4,53,0,"enumerable"],[8,14,53,0],[9,4,53,0,"get"],[9,7,53,0],[9,18,53,0,"get"],[9,19,53,0],[10,6,53,0],[10,13,53,0,"useAffirmationStore"],[10,32,53,0],[11,4,53,0],[12,2,53,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,3,0],[14,8,3,6,"BACKEND_URL"],[14,19,3,17],[14,22,3,20,"process"],[14,29,3,27],[14,30,3,28,"env"],[14,33,3,31],[14,34,3,32,"EXPO_PUBLIC_BACKEND_URL"],[14,57,3,55],[15,2,53,7],[15,8,53,13,"useAffirmationStore"],[15,27,53,32],[15,30,53,35],[15,34,53,35,"create"],[15,42,53,41],[15,43,53,41,"create"],[15,49,53,41],[15,51,53,60],[15,52,53,61,"set"],[15,55,53,64],[15,57,53,66,"get"],[15,60,53,69],[15,66,53,75],[16,4,54,2,"affirmations"],[16,16,54,14],[16,18,54,16],[16,20,54,18],[17,4,55,2,"dailyProgress"],[17,17,55,15],[17,19,55,17],[17,23,55,21],[18,4,56,2,"settings"],[18,12,56,10],[18,14,56,12],[18,18,56,16],[19,4,57,2,"loading"],[19,11,57,9],[19,13,57,11],[19,18,57,16],[20,4,59,2,"fetchAffirmations"],[20,21,59,19],[20,23,59,21],[20,29,59,21,"fetchAffirmations"],[20,30,59,21],[20,35,59,33],[21,6,60,4],[21,10,60,8],[22,8,61,6],[22,14,61,12,"response"],[22,22,61,20],[22,25,61,23],[22,31,61,29,"fetch"],[22,36,61,34],[22,37,61,35],[22,40,61,38,"BACKEND_URL"],[22,51,61,49],[22,70,61,68],[22,71,61,69],[23,8,62,6],[23,14,62,12,"data"],[23,18,62,16],[23,21,62,19],[23,27,62,25,"response"],[23,35,62,33],[23,36,62,34,"json"],[23,40,62,38],[23,41,62,39],[23,42,62,40],[24,8,63,6,"set"],[24,11,63,9],[24,12,63,10],[25,10,63,12,"affirmations"],[25,22,63,24],[25,24,63,26,"data"],[26,8,63,31],[26,9,63,32],[26,10,63,33],[27,6,64,4],[27,7,64,5],[27,8,64,6],[27,15,64,13,"error"],[27,20,64,18],[27,22,64,20],[28,8,65,6,"console"],[28,15,65,13],[28,16,65,14,"error"],[28,21,65,19],[28,22,65,20],[28,53,65,51],[28,55,65,53,"error"],[28,60,65,58],[28,61,65,59],[29,6,66,4],[30,4,67,2],[30,5,67,3],[31,4,69,2,"addAffirmation"],[31,18,69,16],[31,20,69,18],[31,26,69,25,"text"],[31,30,69,37],[31,34,69,42],[32,6,70,4],[32,10,70,8],[33,8,71,6],[33,14,71,12,"response"],[33,22,71,20],[33,25,71,23],[33,31,71,29,"fetch"],[33,36,71,34],[33,37,71,35],[33,40,71,38,"BACKEND_URL"],[33,51,71,49],[33,70,71,68],[33,72,71,70],[34,10,72,8,"method"],[34,16,72,14],[34,18,72,16],[34,24,72,22],[35,10,73,8,"headers"],[35,17,73,15],[35,19,73,17],[36,12,73,19],[36,26,73,33],[36,28,73,35],[37,10,73,54],[37,11,73,55],[38,10,74,8,"body"],[38,14,74,12],[38,16,74,14,"JSON"],[38,20,74,18],[38,21,74,19,"stringify"],[38,30,74,28],[38,31,74,29],[39,12,74,31,"text"],[40,10,74,36],[40,11,74,37],[41,8,75,6],[41,9,75,7],[41,10,75,8],[42,8,76,6],[42,14,76,12,"newAffirmation"],[42,28,76,26],[42,31,76,29],[42,37,76,35,"response"],[42,45,76,43],[42,46,76,44,"json"],[42,50,76,48],[42,51,76,49],[42,52,76,50],[43,8,77,6,"set"],[43,11,77,9],[43,12,77,11,"state"],[43,17,77,16],[43,22,77,22],[44,10,78,8,"affirmations"],[44,22,78,20],[44,24,78,22],[44,25,78,23],[44,28,78,26,"state"],[44,33,78,31],[44,34,78,32,"affirmations"],[44,46,78,44],[44,48,78,46,"newAffirmation"],[44,62,78,60],[45,8,79,6],[45,9,79,7],[45,10,79,8],[45,11,79,9],[46,6,80,4],[46,7,80,5],[46,8,80,6],[46,15,80,13,"error"],[46,20,80,18],[46,22,80,20],[47,8,81,6,"console"],[47,15,81,13],[47,16,81,14,"error"],[47,21,81,19],[47,22,81,20],[47,50,81,48],[47,52,81,50,"error"],[47,57,81,55],[47,58,81,56],[48,8,82,6],[48,14,82,12,"error"],[48,19,82,17],[49,6,83,4],[50,4,84,2],[50,5,84,3],[51,4,86,2,"updateAffirmation"],[51,21,86,19],[51,23,86,21],[51,29,86,21,"updateAffirmation"],[51,30,86,28,"id"],[51,32,86,38],[51,34,86,40,"data"],[51,38,86,79],[51,43,86,84],[52,6,87,4],[52,10,87,8],[53,8,88,6],[53,14,88,12,"response"],[53,22,88,20],[53,25,88,23],[53,31,88,29,"fetch"],[53,36,88,34],[53,37,88,35],[53,40,88,38,"BACKEND_URL"],[53,51,88,49],[53,72,88,70,"id"],[53,74,88,72],[53,76,88,74],[53,78,88,76],[54,10,89,8,"method"],[54,16,89,14],[54,18,89,16],[54,23,89,21],[55,10,90,8,"headers"],[55,17,90,15],[55,19,90,17],[56,12,90,19],[56,26,90,33],[56,28,90,35],[57,10,90,54],[57,11,90,55],[58,10,91,8,"body"],[58,14,91,12],[58,16,91,14,"JSON"],[58,20,91,18],[58,21,91,19,"stringify"],[58,30,91,28],[58,31,91,29,"data"],[58,35,91,33],[59,8,92,6],[59,9,92,7],[59,10,92,8],[60,8,93,6],[60,14,93,12,"updatedAffirmation"],[60,32,93,30],[60,35,93,33],[60,41,93,39,"response"],[60,49,93,47],[60,50,93,48,"json"],[60,54,93,52],[60,55,93,53],[60,56,93,54],[61,8,94,6,"set"],[61,11,94,9],[61,12,94,11,"state"],[61,17,94,16],[61,22,94,22],[62,10,95,8,"affirmations"],[62,22,95,20],[62,24,95,22,"state"],[62,29,95,27],[62,30,95,28,"affirmations"],[62,42,95,40],[62,43,95,41,"map"],[62,46,95,44],[62,47,95,46,"aff"],[62,50,95,49],[62,54,96,10,"aff"],[62,57,96,13],[62,58,96,14,"id"],[62,60,96,16],[62,65,96,21,"id"],[62,67,96,23],[62,70,96,26,"updatedAffirmation"],[62,88,96,44],[62,91,96,47,"aff"],[62,94,97,8],[63,8,98,6],[63,9,98,7],[63,10,98,8],[63,11,98,9],[64,6,99,4],[64,7,99,5],[64,8,99,6],[64,15,99,13,"error"],[64,20,99,18],[64,22,99,20],[65,8,100,6,"console"],[65,15,100,13],[65,16,100,14,"error"],[65,21,100,19],[65,22,100,20],[65,53,100,51],[65,55,100,53,"error"],[65,60,100,58],[65,61,100,59],[66,8,101,6],[66,14,101,12,"error"],[66,19,101,17],[67,6,102,4],[68,4,103,2],[68,5,103,3],[69,4,105,2,"deleteAffirmation"],[69,21,105,19],[69,23,105,21],[69,29,105,28,"id"],[69,31,105,38],[69,35,105,43],[70,6,106,4],[70,10,106,8],[71,8,107,6],[71,14,107,12,"fetch"],[71,19,107,17],[71,20,107,18],[71,23,107,21,"BACKEND_URL"],[71,34,107,32],[71,55,107,53,"id"],[71,57,107,55],[71,59,107,57],[71,61,107,59],[72,10,108,8,"method"],[72,16,108,14],[72,18,108,16],[73,8,109,6],[73,9,109,7],[73,10,109,8],[74,8,110,6,"set"],[74,11,110,9],[74,12,110,11,"state"],[74,17,110,16],[74,22,110,22],[75,10,111,8,"affirmations"],[75,22,111,20],[75,24,111,22,"state"],[75,29,111,27],[75,30,111,28,"affirmations"],[75,42,111,40],[75,43,111,41,"filter"],[75,49,111,47],[75,50,111,49,"aff"],[75,53,111,52],[75,57,111,57,"aff"],[75,60,111,60],[75,61,111,61,"id"],[75,63,111,63],[75,68,111,68,"id"],[75,70,111,70],[76,8,112,6],[76,9,112,7],[76,10,112,8],[76,11,112,9],[77,6,113,4],[77,7,113,5],[77,8,113,6],[77,15,113,13,"error"],[77,20,113,18],[77,22,113,20],[78,8,114,6,"console"],[78,15,114,13],[78,16,114,14,"error"],[78,21,114,19],[78,22,114,20],[78,53,114,51],[78,55,114,53,"error"],[78,60,114,58],[78,61,114,59],[79,8,115,6],[79,14,115,12,"error"],[79,19,115,17],[80,6,116,4],[81,4,117,2],[81,5,117,3],[82,4,119,2,"fetchTodayProgress"],[82,22,119,20],[82,24,119,22],[82,30,119,22,"fetchTodayProgress"],[82,31,119,22],[82,36,119,34],[83,6,120,4],[83,10,120,8],[84,8,121,6],[84,14,121,12,"response"],[84,22,121,20],[84,25,121,23],[84,31,121,29,"fetch"],[84,36,121,34],[84,37,121,35],[84,40,121,38,"BACKEND_URL"],[84,51,121,49],[84,72,121,70],[84,73,121,71],[85,8,122,6],[85,14,122,12,"data"],[85,18,122,16],[85,21,122,19],[85,27,122,25,"response"],[85,35,122,33],[85,36,122,34,"json"],[85,40,122,38],[85,41,122,39],[85,42,122,40],[86,8,123,6,"set"],[86,11,123,9],[86,12,123,10],[87,10,123,12,"dailyProgress"],[87,23,123,25],[87,25,123,27,"data"],[88,8,123,32],[88,9,123,33],[88,10,123,34],[89,6,124,4],[89,7,124,5],[89,8,124,6],[89,15,124,13,"error"],[89,20,124,18],[89,22,124,20],[90,8,125,6,"console"],[90,15,125,13],[90,16,125,14,"error"],[90,21,125,19],[90,22,125,20],[90,49,125,47],[90,51,125,49,"error"],[90,56,125,54],[90,57,125,55],[91,6,126,4],[92,4,127,2],[92,5,127,3],[93,4,129,2,"markAffirmationComplete"],[93,27,129,25],[93,29,129,27],[93,35,129,34,"affirmationId"],[93,48,129,55],[93,52,129,60],[94,6,130,4],[94,10,130,8],[95,8,131,6],[95,14,131,12,"today"],[95,19,131,17],[95,22,131,20],[95,26,131,24,"Date"],[95,30,131,28],[95,31,131,29],[95,32,131,30],[95,33,131,31,"toISOString"],[95,44,131,42],[95,45,131,43],[95,46,131,44],[95,47,131,45,"split"],[95,52,131,50],[95,53,131,51],[95,56,131,54],[95,57,131,55],[95,58,131,56],[95,59,131,57],[95,60,131,58],[96,8,132,6],[96,14,132,12,"response"],[96,22,132,20],[96,25,132,23],[96,31,132,29,"fetch"],[96,36,132,34],[96,37,132,35],[96,40,132,38,"BACKEND_URL"],[96,51,132,49],[96,80,132,78],[96,82,132,80],[97,10,133,8,"method"],[97,16,133,14],[97,18,133,16],[97,24,133,22],[98,10,134,8,"headers"],[98,17,134,15],[98,19,134,17],[99,12,134,19],[99,26,134,33],[99,28,134,35],[100,10,134,54],[100,11,134,55],[101,10,135,8,"body"],[101,14,135,12],[101,16,135,14,"JSON"],[101,20,135,18],[101,21,135,19,"stringify"],[101,30,135,28],[101,31,135,29],[102,12,135,31,"date"],[102,16,135,35],[102,18,135,37,"today"],[102,23,135,42],[103,12,135,44,"affirmation_id"],[103,26,135,58],[103,28,135,60,"affirmationId"],[104,10,135,74],[104,11,135,75],[105,8,136,6],[105,9,136,7],[105,10,136,8],[106,8,137,6],[106,14,137,12,"data"],[106,18,137,16],[106,21,137,19],[106,27,137,25,"response"],[106,35,137,33],[106,36,137,34,"json"],[106,40,137,38],[106,41,137,39],[106,42,137,40],[107,8,138,6,"set"],[107,11,138,9],[107,12,138,10],[108,10,138,12,"dailyProgress"],[108,23,138,25],[108,25,138,27,"data"],[109,8,138,32],[109,9,138,33],[109,10,138,34],[111,8,140,6],[112,8,141,6],[112,14,141,12,"get"],[112,17,141,15],[112,18,141,16],[112,19,141,17],[112,20,141,18,"fetchSettings"],[112,33,141,31],[112,34,141,32],[112,35,141,33],[113,6,142,4],[113,7,142,5],[113,8,142,6],[113,15,142,13,"error"],[113,20,142,18],[113,22,142,20],[114,8,143,6,"console"],[114,15,143,13],[114,16,143,14,"error"],[114,21,143,19],[114,22,143,20],[114,60,143,58],[114,62,143,60,"error"],[114,67,143,65],[114,68,143,66],[115,8,144,6],[115,14,144,12,"error"],[115,19,144,17],[116,6,145,4],[117,4,146,2],[117,5,146,3],[118,4,148,2,"fetchSettings"],[118,17,148,15],[118,19,148,17],[118,25,148,17,"fetchSettings"],[118,26,148,17],[118,31,148,29],[119,6,149,4],[119,10,149,8],[120,8,150,6],[120,14,150,12,"response"],[120,22,150,20],[120,25,150,23],[120,31,150,29,"fetch"],[120,36,150,34],[120,37,150,35],[120,40,150,38,"BACKEND_URL"],[120,51,150,49],[120,66,150,64],[120,67,150,65],[121,8,151,6],[121,14,151,12,"data"],[121,18,151,16],[121,21,151,19],[121,27,151,25,"response"],[121,35,151,33],[121,36,151,34,"json"],[121,40,151,38],[121,41,151,39],[121,42,151,40],[122,8,152,6,"set"],[122,11,152,9],[122,12,152,10],[123,10,152,12,"settings"],[123,18,152,20],[123,20,152,22,"data"],[124,8,152,27],[124,9,152,28],[124,10,152,29],[125,6,153,4],[125,7,153,5],[125,8,153,6],[125,15,153,13,"error"],[125,20,153,18],[125,22,153,20],[126,8,154,6,"console"],[126,15,154,13],[126,16,154,14,"error"],[126,21,154,19],[126,22,154,20],[126,49,154,47],[126,51,154,49,"error"],[126,56,154,54],[126,57,154,55],[127,6,155,4],[128,4,156,2],[128,5,156,3],[129,4,158,2,"updateSettings"],[129,18,158,16],[129,20,158,18],[129,26,158,25,"data"],[129,30,158,48],[129,34,158,53],[130,6,159,4],[130,10,159,8],[131,8,160,6],[131,14,160,12,"response"],[131,22,160,20],[131,25,160,23],[131,31,160,29,"fetch"],[131,36,160,34],[131,37,160,35],[131,40,160,38,"BACKEND_URL"],[131,51,160,49],[131,66,160,64],[131,68,160,66],[132,10,161,8,"method"],[132,16,161,14],[132,18,161,16],[132,23,161,21],[133,10,162,8,"headers"],[133,17,162,15],[133,19,162,17],[134,12,162,19],[134,26,162,33],[134,28,162,35],[135,10,162,54],[135,11,162,55],[136,10,163,8,"body"],[136,14,163,12],[136,16,163,14,"JSON"],[136,20,163,18],[136,21,163,19,"stringify"],[136,30,163,28],[136,31,163,29,"data"],[136,35,163,33],[137,8,164,6],[137,9,164,7],[137,10,164,8],[138,8,165,6],[138,14,165,12,"updatedSettings"],[138,29,165,27],[138,32,165,30],[138,38,165,36,"response"],[138,46,165,44],[138,47,165,45,"json"],[138,51,165,49],[138,52,165,50],[138,53,165,51],[139,8,166,6,"set"],[139,11,166,9],[139,12,166,10],[140,10,166,12,"settings"],[140,18,166,20],[140,20,166,22,"updatedSettings"],[141,8,166,38],[141,9,166,39],[141,10,166,40],[142,6,167,4],[142,7,167,5],[142,8,167,6],[142,15,167,13,"error"],[142,20,167,18],[142,22,167,20],[143,8,168,6,"console"],[143,15,168,13],[143,16,168,14,"error"],[143,21,168,19],[143,22,168,20],[143,50,168,48],[143,52,168,50,"error"],[143,57,168,55],[143,58,168,56],[144,8,169,6],[144,14,169,12,"error"],[144,19,169,17],[145,6,170,4],[146,4,171,2],[147,2,172,0],[147,3,172,1],[147,4,172,2],[147,5,172,3],[148,0,172,4],[148,3]],"functionMap":{"names":["<global>","create$argument_0","fetchAffirmations","addAffirmation","set$argument_0","updateAffirmation","state.affirmations.map$argument_0","deleteAffirmation","state.affirmations.filter$argument_0","fetchTodayProgress","markAffirmationComplete","fetchSettings","updateSettings"],"mappings":"AAA;4DCoD;qBCM;GDQ;kBEE;UCQ;QDE;GFK;qBIE;UDQ;6CEC;kDFC;QCE;GJK;qBME;UHK;gDIC,sBJ;QGC;GNK;sBQE;GRQ;2BSE;GTiB;iBUE;GVQ;kBWE;GXa;EDC"},"hasCjsExports":false},"type":"js/module"}]}