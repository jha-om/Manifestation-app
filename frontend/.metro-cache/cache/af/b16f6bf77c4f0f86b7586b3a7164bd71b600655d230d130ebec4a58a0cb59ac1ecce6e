{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAffirmationStore\", {\n    enumerable: true,\n    get: function () {\n      return useAffirmationStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAffirmationStore = (0, _zustand.create)((set, get) => ({\n    affirmations: [],\n    dailyProgress: null,\n    settings: null,\n    loading: false,\n    fetchAffirmations: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations`);\n        const data = await response.json();\n        set({\n          affirmations: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch affirmations:', error);\n      }\n    },\n    addAffirmation: async (text, image) => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            text,\n            image\n          })\n        });\n        const newAffirmation = await response.json();\n        set(state => ({\n          affirmations: [...state.affirmations, newAffirmation]\n        }));\n      } catch (error) {\n        console.error('Failed to add affirmation:', error);\n        throw error;\n      }\n    },\n    updateAffirmation: async (id, data) => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations/${id}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        const updatedAffirmation = await response.json();\n        set(state => ({\n          affirmations: state.affirmations.map(aff => aff.id === id ? updatedAffirmation : aff)\n        }));\n      } catch (error) {\n        console.error('Failed to update affirmation:', error);\n        throw error;\n      }\n    },\n    deleteAffirmation: async id => {\n      try {\n        await fetch(`${BACKEND_URL}/api/affirmations/${id}`, {\n          method: 'DELETE'\n        });\n        set(state => ({\n          affirmations: state.affirmations.filter(aff => aff.id !== id)\n        }));\n      } catch (error) {\n        console.error('Failed to delete affirmation:', error);\n        throw error;\n      }\n    },\n    fetchTodayProgress: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/progress/today`);\n        const data = await response.json();\n        set({\n          dailyProgress: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch progress:', error);\n      }\n    },\n    markAffirmationComplete: async affirmationId => {\n      try {\n        const today = new Date().toISOString().split('T')[0];\n        const response = await fetch(`${BACKEND_URL}/api/progress/mark-complete`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            date: today,\n            affirmation_id: affirmationId\n          })\n        });\n        const data = await response.json();\n        set({\n          dailyProgress: data\n        });\n\n        // Refresh settings to update streak\n        await get().fetchSettings();\n      } catch (error) {\n        console.error('Failed to mark affirmation complete:', error);\n        throw error;\n      }\n    },\n    fetchSettings: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/settings`);\n        const data = await response.json();\n        set({\n          settings: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch settings:', error);\n      }\n    },\n    updateSettings: async data => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/settings`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        const updatedSettings = await response.json();\n        set({\n          settings: updatedSettings\n        });\n      } catch (error) {\n        console.error('Failed to update settings:', error);\n        throw error;\n      }\n    }\n  }));\n});","lineCount":149,"map":[[7,2,60,0,"Object"],[7,8,60,0],[7,9,60,0,"defineProperty"],[7,23,60,0],[7,24,60,0,"exports"],[7,31,60,0],[8,4,60,0,"enumerable"],[8,14,60,0],[9,4,60,0,"get"],[9,7,60,0],[9,18,60,0,"get"],[9,19,60,0],[10,6,60,0],[10,13,60,0,"useAffirmationStore"],[10,32,60,0],[11,4,60,0],[12,2,60,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,3,0],[14,8,3,6,"BACKEND_URL"],[14,19,3,17],[14,22,3,20,"process"],[14,29,3,27],[14,30,3,28,"env"],[14,33,3,31],[14,34,3,32,"EXPO_PUBLIC_BACKEND_URL"],[14,57,3,55],[15,2,60,7],[15,8,60,13,"useAffirmationStore"],[15,27,60,32],[15,30,60,35],[15,34,60,35,"create"],[15,42,60,41],[15,43,60,41,"create"],[15,49,60,41],[15,51,60,60],[15,52,60,61,"set"],[15,55,60,64],[15,57,60,66,"get"],[15,60,60,69],[15,66,60,75],[16,4,61,2,"affirmations"],[16,16,61,14],[16,18,61,16],[16,20,61,18],[17,4,62,2,"dailyProgress"],[17,17,62,15],[17,19,62,17],[17,23,62,21],[18,4,63,2,"settings"],[18,12,63,10],[18,14,63,12],[18,18,63,16],[19,4,64,2,"loading"],[19,11,64,9],[19,13,64,11],[19,18,64,16],[20,4,66,2,"fetchAffirmations"],[20,21,66,19],[20,23,66,21],[20,29,66,21,"fetchAffirmations"],[20,30,66,21],[20,35,66,33],[21,6,67,4],[21,10,67,8],[22,8,68,6],[22,14,68,12,"response"],[22,22,68,20],[22,25,68,23],[22,31,68,29,"fetch"],[22,36,68,34],[22,37,68,35],[22,40,68,38,"BACKEND_URL"],[22,51,68,49],[22,70,68,68],[22,71,68,69],[23,8,69,6],[23,14,69,12,"data"],[23,18,69,16],[23,21,69,19],[23,27,69,25,"response"],[23,35,69,33],[23,36,69,34,"json"],[23,40,69,38],[23,41,69,39],[23,42,69,40],[24,8,70,6,"set"],[24,11,70,9],[24,12,70,10],[25,10,70,12,"affirmations"],[25,22,70,24],[25,24,70,26,"data"],[26,8,70,31],[26,9,70,32],[26,10,70,33],[27,6,71,4],[27,7,71,5],[27,8,71,6],[27,15,71,13,"error"],[27,20,71,18],[27,22,71,20],[28,8,72,6,"console"],[28,15,72,13],[28,16,72,14,"error"],[28,21,72,19],[28,22,72,20],[28,53,72,51],[28,55,72,53,"error"],[28,60,72,58],[28,61,72,59],[29,6,73,4],[30,4,74,2],[30,5,74,3],[31,4,76,2,"addAffirmation"],[31,18,76,16],[31,20,76,18],[31,26,76,18,"addAffirmation"],[31,27,76,25,"text"],[31,31,76,37],[31,33,76,39,"image"],[31,38,76,53],[31,43,76,58],[32,6,77,4],[32,10,77,8],[33,8,78,6],[33,14,78,12,"response"],[33,22,78,20],[33,25,78,23],[33,31,78,29,"fetch"],[33,36,78,34],[33,37,78,35],[33,40,78,38,"BACKEND_URL"],[33,51,78,49],[33,70,78,68],[33,72,78,70],[34,10,79,8,"method"],[34,16,79,14],[34,18,79,16],[34,24,79,22],[35,10,80,8,"headers"],[35,17,80,15],[35,19,80,17],[36,12,80,19],[36,26,80,33],[36,28,80,35],[37,10,80,54],[37,11,80,55],[38,10,81,8,"body"],[38,14,81,12],[38,16,81,14,"JSON"],[38,20,81,18],[38,21,81,19,"stringify"],[38,30,81,28],[38,31,81,29],[39,12,81,31,"text"],[39,16,81,35],[40,12,81,37,"image"],[41,10,81,43],[41,11,81,44],[42,8,82,6],[42,9,82,7],[42,10,82,8],[43,8,83,6],[43,14,83,12,"newAffirmation"],[43,28,83,26],[43,31,83,29],[43,37,83,35,"response"],[43,45,83,43],[43,46,83,44,"json"],[43,50,83,48],[43,51,83,49],[43,52,83,50],[44,8,84,6,"set"],[44,11,84,9],[44,12,84,11,"state"],[44,17,84,16],[44,22,84,22],[45,10,85,8,"affirmations"],[45,22,85,20],[45,24,85,22],[45,25,85,23],[45,28,85,26,"state"],[45,33,85,31],[45,34,85,32,"affirmations"],[45,46,85,44],[45,48,85,46,"newAffirmation"],[45,62,85,60],[46,8,86,6],[46,9,86,7],[46,10,86,8],[46,11,86,9],[47,6,87,4],[47,7,87,5],[47,8,87,6],[47,15,87,13,"error"],[47,20,87,18],[47,22,87,20],[48,8,88,6,"console"],[48,15,88,13],[48,16,88,14,"error"],[48,21,88,19],[48,22,88,20],[48,50,88,48],[48,52,88,50,"error"],[48,57,88,55],[48,58,88,56],[49,8,89,6],[49,14,89,12,"error"],[49,19,89,17],[50,6,90,4],[51,4,91,2],[51,5,91,3],[52,4,93,2,"updateAffirmation"],[52,21,93,19],[52,23,93,21],[52,29,93,21,"updateAffirmation"],[52,30,93,28,"id"],[52,32,93,38],[52,34,93,40,"data"],[52,38,93,95],[52,43,93,100],[53,6,94,4],[53,10,94,8],[54,8,95,6],[54,14,95,12,"response"],[54,22,95,20],[54,25,95,23],[54,31,95,29,"fetch"],[54,36,95,34],[54,37,95,35],[54,40,95,38,"BACKEND_URL"],[54,51,95,49],[54,72,95,70,"id"],[54,74,95,72],[54,76,95,74],[54,78,95,76],[55,10,96,8,"method"],[55,16,96,14],[55,18,96,16],[55,23,96,21],[56,10,97,8,"headers"],[56,17,97,15],[56,19,97,17],[57,12,97,19],[57,26,97,33],[57,28,97,35],[58,10,97,54],[58,11,97,55],[59,10,98,8,"body"],[59,14,98,12],[59,16,98,14,"JSON"],[59,20,98,18],[59,21,98,19,"stringify"],[59,30,98,28],[59,31,98,29,"data"],[59,35,98,33],[60,8,99,6],[60,9,99,7],[60,10,99,8],[61,8,100,6],[61,14,100,12,"updatedAffirmation"],[61,32,100,30],[61,35,100,33],[61,41,100,39,"response"],[61,49,100,47],[61,50,100,48,"json"],[61,54,100,52],[61,55,100,53],[61,56,100,54],[62,8,101,6,"set"],[62,11,101,9],[62,12,101,11,"state"],[62,17,101,16],[62,22,101,22],[63,10,102,8,"affirmations"],[63,22,102,20],[63,24,102,22,"state"],[63,29,102,27],[63,30,102,28,"affirmations"],[63,42,102,40],[63,43,102,41,"map"],[63,46,102,44],[63,47,102,46,"aff"],[63,50,102,49],[63,54,103,10,"aff"],[63,57,103,13],[63,58,103,14,"id"],[63,60,103,16],[63,65,103,21,"id"],[63,67,103,23],[63,70,103,26,"updatedAffirmation"],[63,88,103,44],[63,91,103,47,"aff"],[63,94,104,8],[64,8,105,6],[64,9,105,7],[64,10,105,8],[64,11,105,9],[65,6,106,4],[65,7,106,5],[65,8,106,6],[65,15,106,13,"error"],[65,20,106,18],[65,22,106,20],[66,8,107,6,"console"],[66,15,107,13],[66,16,107,14,"error"],[66,21,107,19],[66,22,107,20],[66,53,107,51],[66,55,107,53,"error"],[66,60,107,58],[66,61,107,59],[67,8,108,6],[67,14,108,12,"error"],[67,19,108,17],[68,6,109,4],[69,4,110,2],[69,5,110,3],[70,4,112,2,"deleteAffirmation"],[70,21,112,19],[70,23,112,21],[70,29,112,28,"id"],[70,31,112,38],[70,35,112,43],[71,6,113,4],[71,10,113,8],[72,8,114,6],[72,14,114,12,"fetch"],[72,19,114,17],[72,20,114,18],[72,23,114,21,"BACKEND_URL"],[72,34,114,32],[72,55,114,53,"id"],[72,57,114,55],[72,59,114,57],[72,61,114,59],[73,10,115,8,"method"],[73,16,115,14],[73,18,115,16],[74,8,116,6],[74,9,116,7],[74,10,116,8],[75,8,117,6,"set"],[75,11,117,9],[75,12,117,11,"state"],[75,17,117,16],[75,22,117,22],[76,10,118,8,"affirmations"],[76,22,118,20],[76,24,118,22,"state"],[76,29,118,27],[76,30,118,28,"affirmations"],[76,42,118,40],[76,43,118,41,"filter"],[76,49,118,47],[76,50,118,49,"aff"],[76,53,118,52],[76,57,118,57,"aff"],[76,60,118,60],[76,61,118,61,"id"],[76,63,118,63],[76,68,118,68,"id"],[76,70,118,70],[77,8,119,6],[77,9,119,7],[77,10,119,8],[77,11,119,9],[78,6,120,4],[78,7,120,5],[78,8,120,6],[78,15,120,13,"error"],[78,20,120,18],[78,22,120,20],[79,8,121,6,"console"],[79,15,121,13],[79,16,121,14,"error"],[79,21,121,19],[79,22,121,20],[79,53,121,51],[79,55,121,53,"error"],[79,60,121,58],[79,61,121,59],[80,8,122,6],[80,14,122,12,"error"],[80,19,122,17],[81,6,123,4],[82,4,124,2],[82,5,124,3],[83,4,126,2,"fetchTodayProgress"],[83,22,126,20],[83,24,126,22],[83,30,126,22,"fetchTodayProgress"],[83,31,126,22],[83,36,126,34],[84,6,127,4],[84,10,127,8],[85,8,128,6],[85,14,128,12,"response"],[85,22,128,20],[85,25,128,23],[85,31,128,29,"fetch"],[85,36,128,34],[85,37,128,35],[85,40,128,38,"BACKEND_URL"],[85,51,128,49],[85,72,128,70],[85,73,128,71],[86,8,129,6],[86,14,129,12,"data"],[86,18,129,16],[86,21,129,19],[86,27,129,25,"response"],[86,35,129,33],[86,36,129,34,"json"],[86,40,129,38],[86,41,129,39],[86,42,129,40],[87,8,130,6,"set"],[87,11,130,9],[87,12,130,10],[88,10,130,12,"dailyProgress"],[88,23,130,25],[88,25,130,27,"data"],[89,8,130,32],[89,9,130,33],[89,10,130,34],[90,6,131,4],[90,7,131,5],[90,8,131,6],[90,15,131,13,"error"],[90,20,131,18],[90,22,131,20],[91,8,132,6,"console"],[91,15,132,13],[91,16,132,14,"error"],[91,21,132,19],[91,22,132,20],[91,49,132,47],[91,51,132,49,"error"],[91,56,132,54],[91,57,132,55],[92,6,133,4],[93,4,134,2],[93,5,134,3],[94,4,136,2,"markAffirmationComplete"],[94,27,136,25],[94,29,136,27],[94,35,136,34,"affirmationId"],[94,48,136,55],[94,52,136,60],[95,6,137,4],[95,10,137,8],[96,8,138,6],[96,14,138,12,"today"],[96,19,138,17],[96,22,138,20],[96,26,138,24,"Date"],[96,30,138,28],[96,31,138,29],[96,32,138,30],[96,33,138,31,"toISOString"],[96,44,138,42],[96,45,138,43],[96,46,138,44],[96,47,138,45,"split"],[96,52,138,50],[96,53,138,51],[96,56,138,54],[96,57,138,55],[96,58,138,56],[96,59,138,57],[96,60,138,58],[97,8,139,6],[97,14,139,12,"response"],[97,22,139,20],[97,25,139,23],[97,31,139,29,"fetch"],[97,36,139,34],[97,37,139,35],[97,40,139,38,"BACKEND_URL"],[97,51,139,49],[97,80,139,78],[97,82,139,80],[98,10,140,8,"method"],[98,16,140,14],[98,18,140,16],[98,24,140,22],[99,10,141,8,"headers"],[99,17,141,15],[99,19,141,17],[100,12,141,19],[100,26,141,33],[100,28,141,35],[101,10,141,54],[101,11,141,55],[102,10,142,8,"body"],[102,14,142,12],[102,16,142,14,"JSON"],[102,20,142,18],[102,21,142,19,"stringify"],[102,30,142,28],[102,31,142,29],[103,12,142,31,"date"],[103,16,142,35],[103,18,142,37,"today"],[103,23,142,42],[104,12,142,44,"affirmation_id"],[104,26,142,58],[104,28,142,60,"affirmationId"],[105,10,142,74],[105,11,142,75],[106,8,143,6],[106,9,143,7],[106,10,143,8],[107,8,144,6],[107,14,144,12,"data"],[107,18,144,16],[107,21,144,19],[107,27,144,25,"response"],[107,35,144,33],[107,36,144,34,"json"],[107,40,144,38],[107,41,144,39],[107,42,144,40],[108,8,145,6,"set"],[108,11,145,9],[108,12,145,10],[109,10,145,12,"dailyProgress"],[109,23,145,25],[109,25,145,27,"data"],[110,8,145,32],[110,9,145,33],[110,10,145,34],[112,8,147,6],[113,8,148,6],[113,14,148,12,"get"],[113,17,148,15],[113,18,148,16],[113,19,148,17],[113,20,148,18,"fetchSettings"],[113,33,148,31],[113,34,148,32],[113,35,148,33],[114,6,149,4],[114,7,149,5],[114,8,149,6],[114,15,149,13,"error"],[114,20,149,18],[114,22,149,20],[115,8,150,6,"console"],[115,15,150,13],[115,16,150,14,"error"],[115,21,150,19],[115,22,150,20],[115,60,150,58],[115,62,150,60,"error"],[115,67,150,65],[115,68,150,66],[116,8,151,6],[116,14,151,12,"error"],[116,19,151,17],[117,6,152,4],[118,4,153,2],[118,5,153,3],[119,4,155,2,"fetchSettings"],[119,17,155,15],[119,19,155,17],[119,25,155,17,"fetchSettings"],[119,26,155,17],[119,31,155,29],[120,6,156,4],[120,10,156,8],[121,8,157,6],[121,14,157,12,"response"],[121,22,157,20],[121,25,157,23],[121,31,157,29,"fetch"],[121,36,157,34],[121,37,157,35],[121,40,157,38,"BACKEND_URL"],[121,51,157,49],[121,66,157,64],[121,67,157,65],[122,8,158,6],[122,14,158,12,"data"],[122,18,158,16],[122,21,158,19],[122,27,158,25,"response"],[122,35,158,33],[122,36,158,34,"json"],[122,40,158,38],[122,41,158,39],[122,42,158,40],[123,8,159,6,"set"],[123,11,159,9],[123,12,159,10],[124,10,159,12,"settings"],[124,18,159,20],[124,20,159,22,"data"],[125,8,159,27],[125,9,159,28],[125,10,159,29],[126,6,160,4],[126,7,160,5],[126,8,160,6],[126,15,160,13,"error"],[126,20,160,18],[126,22,160,20],[127,8,161,6,"console"],[127,15,161,13],[127,16,161,14,"error"],[127,21,161,19],[127,22,161,20],[127,49,161,47],[127,51,161,49,"error"],[127,56,161,54],[127,57,161,55],[128,6,162,4],[129,4,163,2],[129,5,163,3],[130,4,165,2,"updateSettings"],[130,18,165,16],[130,20,165,18],[130,26,165,25,"data"],[130,30,165,48],[130,34,165,53],[131,6,166,4],[131,10,166,8],[132,8,167,6],[132,14,167,12,"response"],[132,22,167,20],[132,25,167,23],[132,31,167,29,"fetch"],[132,36,167,34],[132,37,167,35],[132,40,167,38,"BACKEND_URL"],[132,51,167,49],[132,66,167,64],[132,68,167,66],[133,10,168,8,"method"],[133,16,168,14],[133,18,168,16],[133,23,168,21],[134,10,169,8,"headers"],[134,17,169,15],[134,19,169,17],[135,12,169,19],[135,26,169,33],[135,28,169,35],[136,10,169,54],[136,11,169,55],[137,10,170,8,"body"],[137,14,170,12],[137,16,170,14,"JSON"],[137,20,170,18],[137,21,170,19,"stringify"],[137,30,170,28],[137,31,170,29,"data"],[137,35,170,33],[138,8,171,6],[138,9,171,7],[138,10,171,8],[139,8,172,6],[139,14,172,12,"updatedSettings"],[139,29,172,27],[139,32,172,30],[139,38,172,36,"response"],[139,46,172,44],[139,47,172,45,"json"],[139,51,172,49],[139,52,172,50],[139,53,172,51],[140,8,173,6,"set"],[140,11,173,9],[140,12,173,10],[141,10,173,12,"settings"],[141,18,173,20],[141,20,173,22,"updatedSettings"],[142,8,173,38],[142,9,173,39],[142,10,173,40],[143,6,174,4],[143,7,174,5],[143,8,174,6],[143,15,174,13,"error"],[143,20,174,18],[143,22,174,20],[144,8,175,6,"console"],[144,15,175,13],[144,16,175,14,"error"],[144,21,175,19],[144,22,175,20],[144,50,175,48],[144,52,175,50,"error"],[144,57,175,55],[144,58,175,56],[145,8,176,6],[145,14,176,12,"error"],[145,19,176,17],[146,6,177,4],[147,4,178,2],[148,2,179,0],[148,3,179,1],[148,4,179,2],[148,5,179,3],[149,0,179,4],[149,3]],"functionMap":{"names":["<global>","create$argument_0","fetchAffirmations","addAffirmation","set$argument_0","updateAffirmation","state.affirmations.map$argument_0","deleteAffirmation","state.affirmations.filter$argument_0","fetchTodayProgress","markAffirmationComplete","fetchSettings","updateSettings"],"mappings":"AAA;4DC2D;qBCM;GDQ;kBEE;UCQ;QDE;GFK;qBIE;UDQ;6CEC;kDFC;QCE;GJK;qBME;UHK;gDIC,sBJ;QGC;GNK;sBQE;GRQ;2BSE;GTiB;iBUE;GVQ;kBWE;GXa;EDC"},"hasCjsExports":false},"type":"js/module"}]}