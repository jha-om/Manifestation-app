{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAffirmationStore\", {\n    enumerable: true,\n    get: function () {\n      return useAffirmationStore;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAffirmationStore = (0, _zustand.create)((set, get) => ({\n    affirmations: [],\n    dailyProgress: null,\n    settings: null,\n    loading: false,\n    fetchAffirmations: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations`);\n        const data = await response.json();\n        set({\n          affirmations: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch affirmations:', error);\n      }\n    },\n    addAffirmation: async text => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            text\n          })\n        });\n        const newAffirmation = await response.json();\n        set(state => ({\n          affirmations: [...state.affirmations, newAffirmation]\n        }));\n      } catch (error) {\n        console.error('Failed to add affirmation:', error);\n        throw error;\n      }\n    },\n    updateAffirmation: async (id, data) => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations/${id}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        const updatedAffirmation = await response.json();\n        set(state => ({\n          affirmations: state.affirmations.map(aff => aff.id === id ? updatedAffirmation : aff)\n        }));\n      } catch (error) {\n        console.error('Failed to update affirmation:', error);\n        throw error;\n      }\n    },\n    deleteAffirmation: async id => {\n      try {\n        await fetch(`${BACKEND_URL}/api/affirmations/${id}`, {\n          method: 'DELETE'\n        });\n        set(state => ({\n          affirmations: state.affirmations.filter(aff => aff.id !== id)\n        }));\n      } catch (error) {\n        console.error('Failed to delete affirmation:', error);\n        throw error;\n      }\n    },\n    fetchTodayProgress: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/progress/today`);\n        const data = await response.json();\n        set({\n          dailyProgress: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch progress:', error);\n      }\n    },\n    markAffirmationComplete: async affirmationId => {\n      try {\n        const today = new Date().toISOString().split('T')[0];\n        const response = await fetch(`${BACKEND_URL}/api/progress/mark-complete`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            date: today,\n            affirmation_id: affirmationId\n          })\n        });\n        const data = await response.json();\n        set({\n          dailyProgress: data\n        });\n\n        // Refresh settings to update streak\n        await get().fetchSettings();\n      } catch (error) {\n        console.error('Failed to mark affirmation complete:', error);\n        throw error;\n      }\n    },\n    fetchSettings: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/settings`);\n        const data = await response.json();\n        set({\n          settings: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch settings:', error);\n      }\n    },\n    updateSettings: async data => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/settings`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        const updatedSettings = await response.json();\n        set({\n          settings: updatedSettings\n        });\n      } catch (error) {\n        console.error('Failed to update settings:', error);\n        throw error;\n      }\n    }\n  }));\n});","lineCount":149,"map":[[7,2,59,0,"Object"],[7,8,59,0],[7,9,59,0,"defineProperty"],[7,23,59,0],[7,24,59,0,"exports"],[7,31,59,0],[8,4,59,0,"enumerable"],[8,14,59,0],[9,4,59,0,"get"],[9,7,59,0],[9,18,59,0,"get"],[9,19,59,0],[10,6,59,0],[10,13,59,0,"useAffirmationStore"],[10,32,59,0],[11,4,59,0],[12,2,59,0],[13,2,178,4],[13,6,178,4,"_expoVirtualEnv"],[13,21,178,4],[13,24,178,4,"require"],[13,31,178,4],[13,32,178,4,"_dependencyMap"],[13,46,178,4],[14,2,1,0],[14,6,1,0,"_zustand"],[14,14,1,0],[14,17,1,0,"require"],[14,24,1,0],[14,25,1,0,"_dependencyMap"],[14,39,1,0],[15,2,3,0],[15,8,3,6,"BACKEND_URL"],[15,19,3,17],[15,22,3,17,"_expoVirtualEnv"],[15,37,3,17],[15,38,3,17,"env"],[15,41,3,17],[15,42,3,17,"EXPO_PUBLIC_BACKEND_URL"],[15,65,3,55],[16,2,59,7],[16,8,59,13,"useAffirmationStore"],[16,27,59,32],[16,30,59,35],[16,34,59,35,"create"],[16,42,59,41],[16,43,59,41,"create"],[16,49,59,41],[16,51,59,60],[16,52,59,61,"set"],[16,55,59,64],[16,57,59,66,"get"],[16,60,59,69],[16,66,59,75],[17,4,60,2,"affirmations"],[17,16,60,14],[17,18,60,16],[17,20,60,18],[18,4,61,2,"dailyProgress"],[18,17,61,15],[18,19,61,17],[18,23,61,21],[19,4,62,2,"settings"],[19,12,62,10],[19,14,62,12],[19,18,62,16],[20,4,63,2,"loading"],[20,11,63,9],[20,13,63,11],[20,18,63,16],[21,4,65,2,"fetchAffirmations"],[21,21,65,19],[21,23,65,21],[21,29,65,21,"fetchAffirmations"],[21,30,65,21],[21,35,65,33],[22,6,66,4],[22,10,66,8],[23,8,67,6],[23,14,67,12,"response"],[23,22,67,20],[23,25,67,23],[23,31,67,29,"fetch"],[23,36,67,34],[23,37,67,35],[23,40,67,38,"BACKEND_URL"],[23,51,67,49],[23,70,67,68],[23,71,67,69],[24,8,68,6],[24,14,68,12,"data"],[24,18,68,16],[24,21,68,19],[24,27,68,25,"response"],[24,35,68,33],[24,36,68,34,"json"],[24,40,68,38],[24,41,68,39],[24,42,68,40],[25,8,69,6,"set"],[25,11,69,9],[25,12,69,10],[26,10,69,12,"affirmations"],[26,22,69,24],[26,24,69,26,"data"],[27,8,69,31],[27,9,69,32],[27,10,69,33],[28,6,70,4],[28,7,70,5],[28,8,70,6],[28,15,70,13,"error"],[28,20,70,18],[28,22,70,20],[29,8,71,6,"console"],[29,15,71,13],[29,16,71,14,"error"],[29,21,71,19],[29,22,71,20],[29,53,71,51],[29,55,71,53,"error"],[29,60,71,58],[29,61,71,59],[30,6,72,4],[31,4,73,2],[31,5,73,3],[32,4,75,2,"addAffirmation"],[32,18,75,16],[32,20,75,18],[32,26,75,25,"text"],[32,30,75,37],[32,34,75,42],[33,6,76,4],[33,10,76,8],[34,8,77,6],[34,14,77,12,"response"],[34,22,77,20],[34,25,77,23],[34,31,77,29,"fetch"],[34,36,77,34],[34,37,77,35],[34,40,77,38,"BACKEND_URL"],[34,51,77,49],[34,70,77,68],[34,72,77,70],[35,10,78,8,"method"],[35,16,78,14],[35,18,78,16],[35,24,78,22],[36,10,79,8,"headers"],[36,17,79,15],[36,19,79,17],[37,12,79,19],[37,26,79,33],[37,28,79,35],[38,10,79,54],[38,11,79,55],[39,10,80,8,"body"],[39,14,80,12],[39,16,80,14,"JSON"],[39,20,80,18],[39,21,80,19,"stringify"],[39,30,80,28],[39,31,80,29],[40,12,80,31,"text"],[41,10,80,36],[41,11,80,37],[42,8,81,6],[42,9,81,7],[42,10,81,8],[43,8,82,6],[43,14,82,12,"newAffirmation"],[43,28,82,26],[43,31,82,29],[43,37,82,35,"response"],[43,45,82,43],[43,46,82,44,"json"],[43,50,82,48],[43,51,82,49],[43,52,82,50],[44,8,83,6,"set"],[44,11,83,9],[44,12,83,11,"state"],[44,17,83,16],[44,22,83,22],[45,10,84,8,"affirmations"],[45,22,84,20],[45,24,84,22],[45,25,84,23],[45,28,84,26,"state"],[45,33,84,31],[45,34,84,32,"affirmations"],[45,46,84,44],[45,48,84,46,"newAffirmation"],[45,62,84,60],[46,8,85,6],[46,9,85,7],[46,10,85,8],[46,11,85,9],[47,6,86,4],[47,7,86,5],[47,8,86,6],[47,15,86,13,"error"],[47,20,86,18],[47,22,86,20],[48,8,87,6,"console"],[48,15,87,13],[48,16,87,14,"error"],[48,21,87,19],[48,22,87,20],[48,50,87,48],[48,52,87,50,"error"],[48,57,87,55],[48,58,87,56],[49,8,88,6],[49,14,88,12,"error"],[49,19,88,17],[50,6,89,4],[51,4,90,2],[51,5,90,3],[52,4,92,2,"updateAffirmation"],[52,21,92,19],[52,23,92,21],[52,29,92,21,"updateAffirmation"],[52,30,92,28,"id"],[52,32,92,38],[52,34,92,40,"data"],[52,38,92,79],[52,43,92,84],[53,6,93,4],[53,10,93,8],[54,8,94,6],[54,14,94,12,"response"],[54,22,94,20],[54,25,94,23],[54,31,94,29,"fetch"],[54,36,94,34],[54,37,94,35],[54,40,94,38,"BACKEND_URL"],[54,51,94,49],[54,72,94,70,"id"],[54,74,94,72],[54,76,94,74],[54,78,94,76],[55,10,95,8,"method"],[55,16,95,14],[55,18,95,16],[55,23,95,21],[56,10,96,8,"headers"],[56,17,96,15],[56,19,96,17],[57,12,96,19],[57,26,96,33],[57,28,96,35],[58,10,96,54],[58,11,96,55],[59,10,97,8,"body"],[59,14,97,12],[59,16,97,14,"JSON"],[59,20,97,18],[59,21,97,19,"stringify"],[59,30,97,28],[59,31,97,29,"data"],[59,35,97,33],[60,8,98,6],[60,9,98,7],[60,10,98,8],[61,8,99,6],[61,14,99,12,"updatedAffirmation"],[61,32,99,30],[61,35,99,33],[61,41,99,39,"response"],[61,49,99,47],[61,50,99,48,"json"],[61,54,99,52],[61,55,99,53],[61,56,99,54],[62,8,100,6,"set"],[62,11,100,9],[62,12,100,11,"state"],[62,17,100,16],[62,22,100,22],[63,10,101,8,"affirmations"],[63,22,101,20],[63,24,101,22,"state"],[63,29,101,27],[63,30,101,28,"affirmations"],[63,42,101,40],[63,43,101,41,"map"],[63,46,101,44],[63,47,101,46,"aff"],[63,50,101,49],[63,54,102,10,"aff"],[63,57,102,13],[63,58,102,14,"id"],[63,60,102,16],[63,65,102,21,"id"],[63,67,102,23],[63,70,102,26,"updatedAffirmation"],[63,88,102,44],[63,91,102,47,"aff"],[63,94,103,8],[64,8,104,6],[64,9,104,7],[64,10,104,8],[64,11,104,9],[65,6,105,4],[65,7,105,5],[65,8,105,6],[65,15,105,13,"error"],[65,20,105,18],[65,22,105,20],[66,8,106,6,"console"],[66,15,106,13],[66,16,106,14,"error"],[66,21,106,19],[66,22,106,20],[66,53,106,51],[66,55,106,53,"error"],[66,60,106,58],[66,61,106,59],[67,8,107,6],[67,14,107,12,"error"],[67,19,107,17],[68,6,108,4],[69,4,109,2],[69,5,109,3],[70,4,111,2,"deleteAffirmation"],[70,21,111,19],[70,23,111,21],[70,29,111,28,"id"],[70,31,111,38],[70,35,111,43],[71,6,112,4],[71,10,112,8],[72,8,113,6],[72,14,113,12,"fetch"],[72,19,113,17],[72,20,113,18],[72,23,113,21,"BACKEND_URL"],[72,34,113,32],[72,55,113,53,"id"],[72,57,113,55],[72,59,113,57],[72,61,113,59],[73,10,114,8,"method"],[73,16,114,14],[73,18,114,16],[74,8,115,6],[74,9,115,7],[74,10,115,8],[75,8,116,6,"set"],[75,11,116,9],[75,12,116,11,"state"],[75,17,116,16],[75,22,116,22],[76,10,117,8,"affirmations"],[76,22,117,20],[76,24,117,22,"state"],[76,29,117,27],[76,30,117,28,"affirmations"],[76,42,117,40],[76,43,117,41,"filter"],[76,49,117,47],[76,50,117,49,"aff"],[76,53,117,52],[76,57,117,57,"aff"],[76,60,117,60],[76,61,117,61,"id"],[76,63,117,63],[76,68,117,68,"id"],[76,70,117,70],[77,8,118,6],[77,9,118,7],[77,10,118,8],[77,11,118,9],[78,6,119,4],[78,7,119,5],[78,8,119,6],[78,15,119,13,"error"],[78,20,119,18],[78,22,119,20],[79,8,120,6,"console"],[79,15,120,13],[79,16,120,14,"error"],[79,21,120,19],[79,22,120,20],[79,53,120,51],[79,55,120,53,"error"],[79,60,120,58],[79,61,120,59],[80,8,121,6],[80,14,121,12,"error"],[80,19,121,17],[81,6,122,4],[82,4,123,2],[82,5,123,3],[83,4,125,2,"fetchTodayProgress"],[83,22,125,20],[83,24,125,22],[83,30,125,22,"fetchTodayProgress"],[83,31,125,22],[83,36,125,34],[84,6,126,4],[84,10,126,8],[85,8,127,6],[85,14,127,12,"response"],[85,22,127,20],[85,25,127,23],[85,31,127,29,"fetch"],[85,36,127,34],[85,37,127,35],[85,40,127,38,"BACKEND_URL"],[85,51,127,49],[85,72,127,70],[85,73,127,71],[86,8,128,6],[86,14,128,12,"data"],[86,18,128,16],[86,21,128,19],[86,27,128,25,"response"],[86,35,128,33],[86,36,128,34,"json"],[86,40,128,38],[86,41,128,39],[86,42,128,40],[87,8,129,6,"set"],[87,11,129,9],[87,12,129,10],[88,10,129,12,"dailyProgress"],[88,23,129,25],[88,25,129,27,"data"],[89,8,129,32],[89,9,129,33],[89,10,129,34],[90,6,130,4],[90,7,130,5],[90,8,130,6],[90,15,130,13,"error"],[90,20,130,18],[90,22,130,20],[91,8,131,6,"console"],[91,15,131,13],[91,16,131,14,"error"],[91,21,131,19],[91,22,131,20],[91,49,131,47],[91,51,131,49,"error"],[91,56,131,54],[91,57,131,55],[92,6,132,4],[93,4,133,2],[93,5,133,3],[94,4,135,2,"markAffirmationComplete"],[94,27,135,25],[94,29,135,27],[94,35,135,34,"affirmationId"],[94,48,135,55],[94,52,135,60],[95,6,136,4],[95,10,136,8],[96,8,137,6],[96,14,137,12,"today"],[96,19,137,17],[96,22,137,20],[96,26,137,24,"Date"],[96,30,137,28],[96,31,137,29],[96,32,137,30],[96,33,137,31,"toISOString"],[96,44,137,42],[96,45,137,43],[96,46,137,44],[96,47,137,45,"split"],[96,52,137,50],[96,53,137,51],[96,56,137,54],[96,57,137,55],[96,58,137,56],[96,59,137,57],[96,60,137,58],[97,8,138,6],[97,14,138,12,"response"],[97,22,138,20],[97,25,138,23],[97,31,138,29,"fetch"],[97,36,138,34],[97,37,138,35],[97,40,138,38,"BACKEND_URL"],[97,51,138,49],[97,80,138,78],[97,82,138,80],[98,10,139,8,"method"],[98,16,139,14],[98,18,139,16],[98,24,139,22],[99,10,140,8,"headers"],[99,17,140,15],[99,19,140,17],[100,12,140,19],[100,26,140,33],[100,28,140,35],[101,10,140,54],[101,11,140,55],[102,10,141,8,"body"],[102,14,141,12],[102,16,141,14,"JSON"],[102,20,141,18],[102,21,141,19,"stringify"],[102,30,141,28],[102,31,141,29],[103,12,141,31,"date"],[103,16,141,35],[103,18,141,37,"today"],[103,23,141,42],[104,12,141,44,"affirmation_id"],[104,26,141,58],[104,28,141,60,"affirmationId"],[105,10,141,74],[105,11,141,75],[106,8,142,6],[106,9,142,7],[106,10,142,8],[107,8,143,6],[107,14,143,12,"data"],[107,18,143,16],[107,21,143,19],[107,27,143,25,"response"],[107,35,143,33],[107,36,143,34,"json"],[107,40,143,38],[107,41,143,39],[107,42,143,40],[108,8,144,6,"set"],[108,11,144,9],[108,12,144,10],[109,10,144,12,"dailyProgress"],[109,23,144,25],[109,25,144,27,"data"],[110,8,144,32],[110,9,144,33],[110,10,144,34],[112,8,146,6],[113,8,147,6],[113,14,147,12,"get"],[113,17,147,15],[113,18,147,16],[113,19,147,17],[113,20,147,18,"fetchSettings"],[113,33,147,31],[113,34,147,32],[113,35,147,33],[114,6,148,4],[114,7,148,5],[114,8,148,6],[114,15,148,13,"error"],[114,20,148,18],[114,22,148,20],[115,8,149,6,"console"],[115,15,149,13],[115,16,149,14,"error"],[115,21,149,19],[115,22,149,20],[115,60,149,58],[115,62,149,60,"error"],[115,67,149,65],[115,68,149,66],[116,8,150,6],[116,14,150,12,"error"],[116,19,150,17],[117,6,151,4],[118,4,152,2],[118,5,152,3],[119,4,154,2,"fetchSettings"],[119,17,154,15],[119,19,154,17],[119,25,154,17,"fetchSettings"],[119,26,154,17],[119,31,154,29],[120,6,155,4],[120,10,155,8],[121,8,156,6],[121,14,156,12,"response"],[121,22,156,20],[121,25,156,23],[121,31,156,29,"fetch"],[121,36,156,34],[121,37,156,35],[121,40,156,38,"BACKEND_URL"],[121,51,156,49],[121,66,156,64],[121,67,156,65],[122,8,157,6],[122,14,157,12,"data"],[122,18,157,16],[122,21,157,19],[122,27,157,25,"response"],[122,35,157,33],[122,36,157,34,"json"],[122,40,157,38],[122,41,157,39],[122,42,157,40],[123,8,158,6,"set"],[123,11,158,9],[123,12,158,10],[124,10,158,12,"settings"],[124,18,158,20],[124,20,158,22,"data"],[125,8,158,27],[125,9,158,28],[125,10,158,29],[126,6,159,4],[126,7,159,5],[126,8,159,6],[126,15,159,13,"error"],[126,20,159,18],[126,22,159,20],[127,8,160,6,"console"],[127,15,160,13],[127,16,160,14,"error"],[127,21,160,19],[127,22,160,20],[127,49,160,47],[127,51,160,49,"error"],[127,56,160,54],[127,57,160,55],[128,6,161,4],[129,4,162,2],[129,5,162,3],[130,4,164,2,"updateSettings"],[130,18,164,16],[130,20,164,18],[130,26,164,25,"data"],[130,30,164,48],[130,34,164,53],[131,6,165,4],[131,10,165,8],[132,8,166,6],[132,14,166,12,"response"],[132,22,166,20],[132,25,166,23],[132,31,166,29,"fetch"],[132,36,166,34],[132,37,166,35],[132,40,166,38,"BACKEND_URL"],[132,51,166,49],[132,66,166,64],[132,68,166,66],[133,10,167,8,"method"],[133,16,167,14],[133,18,167,16],[133,23,167,21],[134,10,168,8,"headers"],[134,17,168,15],[134,19,168,17],[135,12,168,19],[135,26,168,33],[135,28,168,35],[136,10,168,54],[136,11,168,55],[137,10,169,8,"body"],[137,14,169,12],[137,16,169,14,"JSON"],[137,20,169,18],[137,21,169,19,"stringify"],[137,30,169,28],[137,31,169,29,"data"],[137,35,169,33],[138,8,170,6],[138,9,170,7],[138,10,170,8],[139,8,171,6],[139,14,171,12,"updatedSettings"],[139,29,171,27],[139,32,171,30],[139,38,171,36,"response"],[139,46,171,44],[139,47,171,45,"json"],[139,51,171,49],[139,52,171,50],[139,53,171,51],[140,8,172,6,"set"],[140,11,172,9],[140,12,172,10],[141,10,172,12,"settings"],[141,18,172,20],[141,20,172,22,"updatedSettings"],[142,8,172,38],[142,9,172,39],[142,10,172,40],[143,6,173,4],[143,7,173,5],[143,8,173,6],[143,15,173,13,"error"],[143,20,173,18],[143,22,173,20],[144,8,174,6,"console"],[144,15,174,13],[144,16,174,14,"error"],[144,21,174,19],[144,22,174,20],[144,50,174,48],[144,52,174,50,"error"],[144,57,174,55],[144,58,174,56],[145,8,175,6],[145,14,175,12,"error"],[145,19,175,17],[146,6,176,4],[147,4,177,2],[148,2,178,0],[148,3,178,1],[148,4,178,2],[148,5,178,3],[149,0,178,4],[149,3]],"functionMap":{"names":["<global>","create$argument_0","fetchAffirmations","addAffirmation","set$argument_0","updateAffirmation","state.affirmations.map$argument_0","deleteAffirmation","state.affirmations.filter$argument_0","fetchTodayProgress","markAffirmationComplete","fetchSettings","updateSettings"],"mappings":"AAA;4DC0D;qBCM;GDQ;kBEE;UCQ;QDE;GFK;qBIE;UDQ;6CEC;kDFC;QCE;GJK;qBME;UHK;gDIC,sBJ;QGC;GNK;sBQE;GRQ;2BSE;GTiB;iBUE;GVQ;kBWE;GXa;EDC"},"hasCjsExports":false},"type":"js/module"}]}