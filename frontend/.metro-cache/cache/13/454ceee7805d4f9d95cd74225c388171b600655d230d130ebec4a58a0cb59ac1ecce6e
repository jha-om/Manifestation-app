{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAffirmationStore\", {\n    enumerable: true,\n    get: function () {\n      return useAffirmationStore;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAffirmationStore = (0, _zustand.create)((set, get) => ({\n    affirmations: [],\n    dailyProgress: null,\n    settings: null,\n    loading: false,\n    fetchAffirmations: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations`);\n        const data = await response.json();\n        set({\n          affirmations: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch affirmations:', error);\n      }\n    },\n    addAffirmation: async (text, image) => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            text,\n            image\n          })\n        });\n        const newAffirmation = await response.json();\n        set(state => ({\n          affirmations: [...state.affirmations, newAffirmation]\n        }));\n      } catch (error) {\n        console.error('Failed to add affirmation:', error);\n        throw error;\n      }\n    },\n    updateAffirmation: async (id, data) => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations/${id}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        const updatedAffirmation = await response.json();\n        set(state => ({\n          affirmations: state.affirmations.map(aff => aff.id === id ? updatedAffirmation : aff)\n        }));\n      } catch (error) {\n        console.error('Failed to update affirmation:', error);\n        throw error;\n      }\n    },\n    deleteAffirmation: async id => {\n      try {\n        await fetch(`${BACKEND_URL}/api/affirmations/${id}`, {\n          method: 'DELETE'\n        });\n        set(state => ({\n          affirmations: state.affirmations.filter(aff => aff.id !== id)\n        }));\n      } catch (error) {\n        console.error('Failed to delete affirmation:', error);\n        throw error;\n      }\n    },\n    fetchTodayProgress: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/progress/today`);\n        const data = await response.json();\n        set({\n          dailyProgress: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch progress:', error);\n      }\n    },\n    markAffirmationComplete: async affirmationId => {\n      try {\n        const today = new Date().toISOString().split('T')[0];\n        const response = await fetch(`${BACKEND_URL}/api/progress/mark-complete`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            date: today,\n            affirmation_id: affirmationId\n          })\n        });\n        const data = await response.json();\n        set({\n          dailyProgress: data\n        });\n\n        // Refresh settings to update streak\n        await get().fetchSettings();\n      } catch (error) {\n        console.error('Failed to mark affirmation complete:', error);\n        throw error;\n      }\n    },\n    fetchSettings: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/settings`);\n        const data = await response.json();\n        set({\n          settings: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch settings:', error);\n      }\n    },\n    updateSettings: async data => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/settings`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        const updatedSettings = await response.json();\n        set({\n          settings: updatedSettings\n        });\n      } catch (error) {\n        console.error('Failed to update settings:', error);\n        throw error;\n      }\n    }\n  }));\n});","lineCount":150,"map":[[7,2,60,0,"Object"],[7,8,60,0],[7,9,60,0,"defineProperty"],[7,23,60,0],[7,24,60,0,"exports"],[7,31,60,0],[8,4,60,0,"enumerable"],[8,14,60,0],[9,4,60,0,"get"],[9,7,60,0],[9,18,60,0,"get"],[9,19,60,0],[10,6,60,0],[10,13,60,0,"useAffirmationStore"],[10,32,60,0],[11,4,60,0],[12,2,60,0],[13,2,179,4],[13,6,179,4,"_expoVirtualEnv"],[13,21,179,4],[13,24,179,4,"require"],[13,31,179,4],[13,32,179,4,"_dependencyMap"],[13,46,179,4],[14,2,1,0],[14,6,1,0,"_zustand"],[14,14,1,0],[14,17,1,0,"require"],[14,24,1,0],[14,25,1,0,"_dependencyMap"],[14,39,1,0],[15,2,3,0],[15,8,3,6,"BACKEND_URL"],[15,19,3,17],[15,22,3,17,"_expoVirtualEnv"],[15,37,3,17],[15,38,3,17,"env"],[15,41,3,17],[15,42,3,17,"EXPO_PUBLIC_BACKEND_URL"],[15,65,3,55],[16,2,60,7],[16,8,60,13,"useAffirmationStore"],[16,27,60,32],[16,30,60,35],[16,34,60,35,"create"],[16,42,60,41],[16,43,60,41,"create"],[16,49,60,41],[16,51,60,60],[16,52,60,61,"set"],[16,55,60,64],[16,57,60,66,"get"],[16,60,60,69],[16,66,60,75],[17,4,61,2,"affirmations"],[17,16,61,14],[17,18,61,16],[17,20,61,18],[18,4,62,2,"dailyProgress"],[18,17,62,15],[18,19,62,17],[18,23,62,21],[19,4,63,2,"settings"],[19,12,63,10],[19,14,63,12],[19,18,63,16],[20,4,64,2,"loading"],[20,11,64,9],[20,13,64,11],[20,18,64,16],[21,4,66,2,"fetchAffirmations"],[21,21,66,19],[21,23,66,21],[21,29,66,21,"fetchAffirmations"],[21,30,66,21],[21,35,66,33],[22,6,67,4],[22,10,67,8],[23,8,68,6],[23,14,68,12,"response"],[23,22,68,20],[23,25,68,23],[23,31,68,29,"fetch"],[23,36,68,34],[23,37,68,35],[23,40,68,38,"BACKEND_URL"],[23,51,68,49],[23,70,68,68],[23,71,68,69],[24,8,69,6],[24,14,69,12,"data"],[24,18,69,16],[24,21,69,19],[24,27,69,25,"response"],[24,35,69,33],[24,36,69,34,"json"],[24,40,69,38],[24,41,69,39],[24,42,69,40],[25,8,70,6,"set"],[25,11,70,9],[25,12,70,10],[26,10,70,12,"affirmations"],[26,22,70,24],[26,24,70,26,"data"],[27,8,70,31],[27,9,70,32],[27,10,70,33],[28,6,71,4],[28,7,71,5],[28,8,71,6],[28,15,71,13,"error"],[28,20,71,18],[28,22,71,20],[29,8,72,6,"console"],[29,15,72,13],[29,16,72,14,"error"],[29,21,72,19],[29,22,72,20],[29,53,72,51],[29,55,72,53,"error"],[29,60,72,58],[29,61,72,59],[30,6,73,4],[31,4,74,2],[31,5,74,3],[32,4,76,2,"addAffirmation"],[32,18,76,16],[32,20,76,18],[32,26,76,18,"addAffirmation"],[32,27,76,25,"text"],[32,31,76,37],[32,33,76,39,"image"],[32,38,76,53],[32,43,76,58],[33,6,77,4],[33,10,77,8],[34,8,78,6],[34,14,78,12,"response"],[34,22,78,20],[34,25,78,23],[34,31,78,29,"fetch"],[34,36,78,34],[34,37,78,35],[34,40,78,38,"BACKEND_URL"],[34,51,78,49],[34,70,78,68],[34,72,78,70],[35,10,79,8,"method"],[35,16,79,14],[35,18,79,16],[35,24,79,22],[36,10,80,8,"headers"],[36,17,80,15],[36,19,80,17],[37,12,80,19],[37,26,80,33],[37,28,80,35],[38,10,80,54],[38,11,80,55],[39,10,81,8,"body"],[39,14,81,12],[39,16,81,14,"JSON"],[39,20,81,18],[39,21,81,19,"stringify"],[39,30,81,28],[39,31,81,29],[40,12,81,31,"text"],[40,16,81,35],[41,12,81,37,"image"],[42,10,81,43],[42,11,81,44],[43,8,82,6],[43,9,82,7],[43,10,82,8],[44,8,83,6],[44,14,83,12,"newAffirmation"],[44,28,83,26],[44,31,83,29],[44,37,83,35,"response"],[44,45,83,43],[44,46,83,44,"json"],[44,50,83,48],[44,51,83,49],[44,52,83,50],[45,8,84,6,"set"],[45,11,84,9],[45,12,84,11,"state"],[45,17,84,16],[45,22,84,22],[46,10,85,8,"affirmations"],[46,22,85,20],[46,24,85,22],[46,25,85,23],[46,28,85,26,"state"],[46,33,85,31],[46,34,85,32,"affirmations"],[46,46,85,44],[46,48,85,46,"newAffirmation"],[46,62,85,60],[47,8,86,6],[47,9,86,7],[47,10,86,8],[47,11,86,9],[48,6,87,4],[48,7,87,5],[48,8,87,6],[48,15,87,13,"error"],[48,20,87,18],[48,22,87,20],[49,8,88,6,"console"],[49,15,88,13],[49,16,88,14,"error"],[49,21,88,19],[49,22,88,20],[49,50,88,48],[49,52,88,50,"error"],[49,57,88,55],[49,58,88,56],[50,8,89,6],[50,14,89,12,"error"],[50,19,89,17],[51,6,90,4],[52,4,91,2],[52,5,91,3],[53,4,93,2,"updateAffirmation"],[53,21,93,19],[53,23,93,21],[53,29,93,21,"updateAffirmation"],[53,30,93,28,"id"],[53,32,93,38],[53,34,93,40,"data"],[53,38,93,95],[53,43,93,100],[54,6,94,4],[54,10,94,8],[55,8,95,6],[55,14,95,12,"response"],[55,22,95,20],[55,25,95,23],[55,31,95,29,"fetch"],[55,36,95,34],[55,37,95,35],[55,40,95,38,"BACKEND_URL"],[55,51,95,49],[55,72,95,70,"id"],[55,74,95,72],[55,76,95,74],[55,78,95,76],[56,10,96,8,"method"],[56,16,96,14],[56,18,96,16],[56,23,96,21],[57,10,97,8,"headers"],[57,17,97,15],[57,19,97,17],[58,12,97,19],[58,26,97,33],[58,28,97,35],[59,10,97,54],[59,11,97,55],[60,10,98,8,"body"],[60,14,98,12],[60,16,98,14,"JSON"],[60,20,98,18],[60,21,98,19,"stringify"],[60,30,98,28],[60,31,98,29,"data"],[60,35,98,33],[61,8,99,6],[61,9,99,7],[61,10,99,8],[62,8,100,6],[62,14,100,12,"updatedAffirmation"],[62,32,100,30],[62,35,100,33],[62,41,100,39,"response"],[62,49,100,47],[62,50,100,48,"json"],[62,54,100,52],[62,55,100,53],[62,56,100,54],[63,8,101,6,"set"],[63,11,101,9],[63,12,101,11,"state"],[63,17,101,16],[63,22,101,22],[64,10,102,8,"affirmations"],[64,22,102,20],[64,24,102,22,"state"],[64,29,102,27],[64,30,102,28,"affirmations"],[64,42,102,40],[64,43,102,41,"map"],[64,46,102,44],[64,47,102,46,"aff"],[64,50,102,49],[64,54,103,10,"aff"],[64,57,103,13],[64,58,103,14,"id"],[64,60,103,16],[64,65,103,21,"id"],[64,67,103,23],[64,70,103,26,"updatedAffirmation"],[64,88,103,44],[64,91,103,47,"aff"],[64,94,104,8],[65,8,105,6],[65,9,105,7],[65,10,105,8],[65,11,105,9],[66,6,106,4],[66,7,106,5],[66,8,106,6],[66,15,106,13,"error"],[66,20,106,18],[66,22,106,20],[67,8,107,6,"console"],[67,15,107,13],[67,16,107,14,"error"],[67,21,107,19],[67,22,107,20],[67,53,107,51],[67,55,107,53,"error"],[67,60,107,58],[67,61,107,59],[68,8,108,6],[68,14,108,12,"error"],[68,19,108,17],[69,6,109,4],[70,4,110,2],[70,5,110,3],[71,4,112,2,"deleteAffirmation"],[71,21,112,19],[71,23,112,21],[71,29,112,28,"id"],[71,31,112,38],[71,35,112,43],[72,6,113,4],[72,10,113,8],[73,8,114,6],[73,14,114,12,"fetch"],[73,19,114,17],[73,20,114,18],[73,23,114,21,"BACKEND_URL"],[73,34,114,32],[73,55,114,53,"id"],[73,57,114,55],[73,59,114,57],[73,61,114,59],[74,10,115,8,"method"],[74,16,115,14],[74,18,115,16],[75,8,116,6],[75,9,116,7],[75,10,116,8],[76,8,117,6,"set"],[76,11,117,9],[76,12,117,11,"state"],[76,17,117,16],[76,22,117,22],[77,10,118,8,"affirmations"],[77,22,118,20],[77,24,118,22,"state"],[77,29,118,27],[77,30,118,28,"affirmations"],[77,42,118,40],[77,43,118,41,"filter"],[77,49,118,47],[77,50,118,49,"aff"],[77,53,118,52],[77,57,118,57,"aff"],[77,60,118,60],[77,61,118,61,"id"],[77,63,118,63],[77,68,118,68,"id"],[77,70,118,70],[78,8,119,6],[78,9,119,7],[78,10,119,8],[78,11,119,9],[79,6,120,4],[79,7,120,5],[79,8,120,6],[79,15,120,13,"error"],[79,20,120,18],[79,22,120,20],[80,8,121,6,"console"],[80,15,121,13],[80,16,121,14,"error"],[80,21,121,19],[80,22,121,20],[80,53,121,51],[80,55,121,53,"error"],[80,60,121,58],[80,61,121,59],[81,8,122,6],[81,14,122,12,"error"],[81,19,122,17],[82,6,123,4],[83,4,124,2],[83,5,124,3],[84,4,126,2,"fetchTodayProgress"],[84,22,126,20],[84,24,126,22],[84,30,126,22,"fetchTodayProgress"],[84,31,126,22],[84,36,126,34],[85,6,127,4],[85,10,127,8],[86,8,128,6],[86,14,128,12,"response"],[86,22,128,20],[86,25,128,23],[86,31,128,29,"fetch"],[86,36,128,34],[86,37,128,35],[86,40,128,38,"BACKEND_URL"],[86,51,128,49],[86,72,128,70],[86,73,128,71],[87,8,129,6],[87,14,129,12,"data"],[87,18,129,16],[87,21,129,19],[87,27,129,25,"response"],[87,35,129,33],[87,36,129,34,"json"],[87,40,129,38],[87,41,129,39],[87,42,129,40],[88,8,130,6,"set"],[88,11,130,9],[88,12,130,10],[89,10,130,12,"dailyProgress"],[89,23,130,25],[89,25,130,27,"data"],[90,8,130,32],[90,9,130,33],[90,10,130,34],[91,6,131,4],[91,7,131,5],[91,8,131,6],[91,15,131,13,"error"],[91,20,131,18],[91,22,131,20],[92,8,132,6,"console"],[92,15,132,13],[92,16,132,14,"error"],[92,21,132,19],[92,22,132,20],[92,49,132,47],[92,51,132,49,"error"],[92,56,132,54],[92,57,132,55],[93,6,133,4],[94,4,134,2],[94,5,134,3],[95,4,136,2,"markAffirmationComplete"],[95,27,136,25],[95,29,136,27],[95,35,136,34,"affirmationId"],[95,48,136,55],[95,52,136,60],[96,6,137,4],[96,10,137,8],[97,8,138,6],[97,14,138,12,"today"],[97,19,138,17],[97,22,138,20],[97,26,138,24,"Date"],[97,30,138,28],[97,31,138,29],[97,32,138,30],[97,33,138,31,"toISOString"],[97,44,138,42],[97,45,138,43],[97,46,138,44],[97,47,138,45,"split"],[97,52,138,50],[97,53,138,51],[97,56,138,54],[97,57,138,55],[97,58,138,56],[97,59,138,57],[97,60,138,58],[98,8,139,6],[98,14,139,12,"response"],[98,22,139,20],[98,25,139,23],[98,31,139,29,"fetch"],[98,36,139,34],[98,37,139,35],[98,40,139,38,"BACKEND_URL"],[98,51,139,49],[98,80,139,78],[98,82,139,80],[99,10,140,8,"method"],[99,16,140,14],[99,18,140,16],[99,24,140,22],[100,10,141,8,"headers"],[100,17,141,15],[100,19,141,17],[101,12,141,19],[101,26,141,33],[101,28,141,35],[102,10,141,54],[102,11,141,55],[103,10,142,8,"body"],[103,14,142,12],[103,16,142,14,"JSON"],[103,20,142,18],[103,21,142,19,"stringify"],[103,30,142,28],[103,31,142,29],[104,12,142,31,"date"],[104,16,142,35],[104,18,142,37,"today"],[104,23,142,42],[105,12,142,44,"affirmation_id"],[105,26,142,58],[105,28,142,60,"affirmationId"],[106,10,142,74],[106,11,142,75],[107,8,143,6],[107,9,143,7],[107,10,143,8],[108,8,144,6],[108,14,144,12,"data"],[108,18,144,16],[108,21,144,19],[108,27,144,25,"response"],[108,35,144,33],[108,36,144,34,"json"],[108,40,144,38],[108,41,144,39],[108,42,144,40],[109,8,145,6,"set"],[109,11,145,9],[109,12,145,10],[110,10,145,12,"dailyProgress"],[110,23,145,25],[110,25,145,27,"data"],[111,8,145,32],[111,9,145,33],[111,10,145,34],[113,8,147,6],[114,8,148,6],[114,14,148,12,"get"],[114,17,148,15],[114,18,148,16],[114,19,148,17],[114,20,148,18,"fetchSettings"],[114,33,148,31],[114,34,148,32],[114,35,148,33],[115,6,149,4],[115,7,149,5],[115,8,149,6],[115,15,149,13,"error"],[115,20,149,18],[115,22,149,20],[116,8,150,6,"console"],[116,15,150,13],[116,16,150,14,"error"],[116,21,150,19],[116,22,150,20],[116,60,150,58],[116,62,150,60,"error"],[116,67,150,65],[116,68,150,66],[117,8,151,6],[117,14,151,12,"error"],[117,19,151,17],[118,6,152,4],[119,4,153,2],[119,5,153,3],[120,4,155,2,"fetchSettings"],[120,17,155,15],[120,19,155,17],[120,25,155,17,"fetchSettings"],[120,26,155,17],[120,31,155,29],[121,6,156,4],[121,10,156,8],[122,8,157,6],[122,14,157,12,"response"],[122,22,157,20],[122,25,157,23],[122,31,157,29,"fetch"],[122,36,157,34],[122,37,157,35],[122,40,157,38,"BACKEND_URL"],[122,51,157,49],[122,66,157,64],[122,67,157,65],[123,8,158,6],[123,14,158,12,"data"],[123,18,158,16],[123,21,158,19],[123,27,158,25,"response"],[123,35,158,33],[123,36,158,34,"json"],[123,40,158,38],[123,41,158,39],[123,42,158,40],[124,8,159,6,"set"],[124,11,159,9],[124,12,159,10],[125,10,159,12,"settings"],[125,18,159,20],[125,20,159,22,"data"],[126,8,159,27],[126,9,159,28],[126,10,159,29],[127,6,160,4],[127,7,160,5],[127,8,160,6],[127,15,160,13,"error"],[127,20,160,18],[127,22,160,20],[128,8,161,6,"console"],[128,15,161,13],[128,16,161,14,"error"],[128,21,161,19],[128,22,161,20],[128,49,161,47],[128,51,161,49,"error"],[128,56,161,54],[128,57,161,55],[129,6,162,4],[130,4,163,2],[130,5,163,3],[131,4,165,2,"updateSettings"],[131,18,165,16],[131,20,165,18],[131,26,165,25,"data"],[131,30,165,48],[131,34,165,53],[132,6,166,4],[132,10,166,8],[133,8,167,6],[133,14,167,12,"response"],[133,22,167,20],[133,25,167,23],[133,31,167,29,"fetch"],[133,36,167,34],[133,37,167,35],[133,40,167,38,"BACKEND_URL"],[133,51,167,49],[133,66,167,64],[133,68,167,66],[134,10,168,8,"method"],[134,16,168,14],[134,18,168,16],[134,23,168,21],[135,10,169,8,"headers"],[135,17,169,15],[135,19,169,17],[136,12,169,19],[136,26,169,33],[136,28,169,35],[137,10,169,54],[137,11,169,55],[138,10,170,8,"body"],[138,14,170,12],[138,16,170,14,"JSON"],[138,20,170,18],[138,21,170,19,"stringify"],[138,30,170,28],[138,31,170,29,"data"],[138,35,170,33],[139,8,171,6],[139,9,171,7],[139,10,171,8],[140,8,172,6],[140,14,172,12,"updatedSettings"],[140,29,172,27],[140,32,172,30],[140,38,172,36,"response"],[140,46,172,44],[140,47,172,45,"json"],[140,51,172,49],[140,52,172,50],[140,53,172,51],[141,8,173,6,"set"],[141,11,173,9],[141,12,173,10],[142,10,173,12,"settings"],[142,18,173,20],[142,20,173,22,"updatedSettings"],[143,8,173,38],[143,9,173,39],[143,10,173,40],[144,6,174,4],[144,7,174,5],[144,8,174,6],[144,15,174,13,"error"],[144,20,174,18],[144,22,174,20],[145,8,175,6,"console"],[145,15,175,13],[145,16,175,14,"error"],[145,21,175,19],[145,22,175,20],[145,50,175,48],[145,52,175,50,"error"],[145,57,175,55],[145,58,175,56],[146,8,176,6],[146,14,176,12,"error"],[146,19,176,17],[147,6,177,4],[148,4,178,2],[149,2,179,0],[149,3,179,1],[149,4,179,2],[149,5,179,3],[150,0,179,4],[150,3]],"functionMap":{"names":["<global>","create$argument_0","fetchAffirmations","addAffirmation","set$argument_0","updateAffirmation","state.affirmations.map$argument_0","deleteAffirmation","state.affirmations.filter$argument_0","fetchTodayProgress","markAffirmationComplete","fetchSettings","updateSettings"],"mappings":"AAA;4DC2D;qBCM;GDQ;kBEE;UCQ;QDE;GFK;qBIE;UDQ;6CEC;kDFC;QCE;GJK;qBME;UHK;gDIC,sBJ;QGC;GNK;sBQE;GRQ;2BSE;GTiB;iBUE;GVQ;kBWE;GXa;EDC"},"hasCjsExports":false},"type":"js/module"}]}