{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAffirmationStore\", {\n    enumerable: true,\n    get: function () {\n      return useAffirmationStore;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const useAffirmationStore = (0, _zustand.create)((set, get) => ({\n    affirmations: [],\n    dailyProgress: null,\n    settings: null,\n    loading: false,\n    fetchAffirmations: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations`);\n        const data = await response.json();\n        set({\n          affirmations: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch affirmations:', error);\n      }\n    },\n    addAffirmation: async text => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            text\n          })\n        });\n        const newAffirmation = await response.json();\n        set(state => ({\n          affirmations: [...state.affirmations, newAffirmation]\n        }));\n      } catch (error) {\n        console.error('Failed to add affirmation:', error);\n        throw error;\n      }\n    },\n    updateAffirmation: async (id, data) => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/affirmations/${id}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        const updatedAffirmation = await response.json();\n        set(state => ({\n          affirmations: state.affirmations.map(aff => aff.id === id ? updatedAffirmation : aff)\n        }));\n      } catch (error) {\n        console.error('Failed to update affirmation:', error);\n        throw error;\n      }\n    },\n    deleteAffirmation: async id => {\n      try {\n        await fetch(`${BACKEND_URL}/api/affirmations/${id}`, {\n          method: 'DELETE'\n        });\n        set(state => ({\n          affirmations: state.affirmations.filter(aff => aff.id !== id)\n        }));\n      } catch (error) {\n        console.error('Failed to delete affirmation:', error);\n        throw error;\n      }\n    },\n    fetchTodayProgress: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/progress/today`);\n        const data = await response.json();\n        set({\n          dailyProgress: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch progress:', error);\n      }\n    },\n    markAffirmationComplete: async affirmationId => {\n      try {\n        const today = new Date().toISOString().split('T')[0];\n        const response = await fetch(`${BACKEND_URL}/api/progress/mark-complete`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            date: today,\n            affirmation_id: affirmationId\n          })\n        });\n        const data = await response.json();\n        set({\n          dailyProgress: data\n        });\n\n        // Refresh settings to update streak\n        await get().fetchSettings();\n      } catch (error) {\n        console.error('Failed to mark affirmation complete:', error);\n        throw error;\n      }\n    },\n    fetchSettings: async () => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/settings`);\n        const data = await response.json();\n        set({\n          settings: data\n        });\n      } catch (error) {\n        console.error('Failed to fetch settings:', error);\n      }\n    },\n    updateSettings: async data => {\n      try {\n        const response = await fetch(`${BACKEND_URL}/api/settings`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        const updatedSettings = await response.json();\n        set({\n          settings: updatedSettings\n        });\n      } catch (error) {\n        console.error('Failed to update settings:', error);\n        throw error;\n      }\n    }\n  }));\n});","lineCount":149,"map":[[7,2,53,0,"Object"],[7,8,53,0],[7,9,53,0,"defineProperty"],[7,23,53,0],[7,24,53,0,"exports"],[7,31,53,0],[8,4,53,0,"enumerable"],[8,14,53,0],[9,4,53,0,"get"],[9,7,53,0],[9,18,53,0,"get"],[9,19,53,0],[10,6,53,0],[10,13,53,0,"useAffirmationStore"],[10,32,53,0],[11,4,53,0],[12,2,53,0],[13,2,172,4],[13,6,172,4,"_expoVirtualEnv"],[13,21,172,4],[13,24,172,4,"require"],[13,31,172,4],[13,32,172,4,"_dependencyMap"],[13,46,172,4],[14,2,1,0],[14,6,1,0,"_zustand"],[14,14,1,0],[14,17,1,0,"require"],[14,24,1,0],[14,25,1,0,"_dependencyMap"],[14,39,1,0],[15,2,3,0],[15,8,3,6,"BACKEND_URL"],[15,19,3,17],[15,22,3,17,"_expoVirtualEnv"],[15,37,3,17],[15,38,3,17,"env"],[15,41,3,17],[15,42,3,17,"EXPO_PUBLIC_BACKEND_URL"],[15,65,3,55],[16,2,53,7],[16,8,53,13,"useAffirmationStore"],[16,27,53,32],[16,30,53,35],[16,34,53,35,"create"],[16,42,53,41],[16,43,53,41,"create"],[16,49,53,41],[16,51,53,60],[16,52,53,61,"set"],[16,55,53,64],[16,57,53,66,"get"],[16,60,53,69],[16,66,53,75],[17,4,54,2,"affirmations"],[17,16,54,14],[17,18,54,16],[17,20,54,18],[18,4,55,2,"dailyProgress"],[18,17,55,15],[18,19,55,17],[18,23,55,21],[19,4,56,2,"settings"],[19,12,56,10],[19,14,56,12],[19,18,56,16],[20,4,57,2,"loading"],[20,11,57,9],[20,13,57,11],[20,18,57,16],[21,4,59,2,"fetchAffirmations"],[21,21,59,19],[21,23,59,21],[21,29,59,21,"fetchAffirmations"],[21,30,59,21],[21,35,59,33],[22,6,60,4],[22,10,60,8],[23,8,61,6],[23,14,61,12,"response"],[23,22,61,20],[23,25,61,23],[23,31,61,29,"fetch"],[23,36,61,34],[23,37,61,35],[23,40,61,38,"BACKEND_URL"],[23,51,61,49],[23,70,61,68],[23,71,61,69],[24,8,62,6],[24,14,62,12,"data"],[24,18,62,16],[24,21,62,19],[24,27,62,25,"response"],[24,35,62,33],[24,36,62,34,"json"],[24,40,62,38],[24,41,62,39],[24,42,62,40],[25,8,63,6,"set"],[25,11,63,9],[25,12,63,10],[26,10,63,12,"affirmations"],[26,22,63,24],[26,24,63,26,"data"],[27,8,63,31],[27,9,63,32],[27,10,63,33],[28,6,64,4],[28,7,64,5],[28,8,64,6],[28,15,64,13,"error"],[28,20,64,18],[28,22,64,20],[29,8,65,6,"console"],[29,15,65,13],[29,16,65,14,"error"],[29,21,65,19],[29,22,65,20],[29,53,65,51],[29,55,65,53,"error"],[29,60,65,58],[29,61,65,59],[30,6,66,4],[31,4,67,2],[31,5,67,3],[32,4,69,2,"addAffirmation"],[32,18,69,16],[32,20,69,18],[32,26,69,25,"text"],[32,30,69,37],[32,34,69,42],[33,6,70,4],[33,10,70,8],[34,8,71,6],[34,14,71,12,"response"],[34,22,71,20],[34,25,71,23],[34,31,71,29,"fetch"],[34,36,71,34],[34,37,71,35],[34,40,71,38,"BACKEND_URL"],[34,51,71,49],[34,70,71,68],[34,72,71,70],[35,10,72,8,"method"],[35,16,72,14],[35,18,72,16],[35,24,72,22],[36,10,73,8,"headers"],[36,17,73,15],[36,19,73,17],[37,12,73,19],[37,26,73,33],[37,28,73,35],[38,10,73,54],[38,11,73,55],[39,10,74,8,"body"],[39,14,74,12],[39,16,74,14,"JSON"],[39,20,74,18],[39,21,74,19,"stringify"],[39,30,74,28],[39,31,74,29],[40,12,74,31,"text"],[41,10,74,36],[41,11,74,37],[42,8,75,6],[42,9,75,7],[42,10,75,8],[43,8,76,6],[43,14,76,12,"newAffirmation"],[43,28,76,26],[43,31,76,29],[43,37,76,35,"response"],[43,45,76,43],[43,46,76,44,"json"],[43,50,76,48],[43,51,76,49],[43,52,76,50],[44,8,77,6,"set"],[44,11,77,9],[44,12,77,11,"state"],[44,17,77,16],[44,22,77,22],[45,10,78,8,"affirmations"],[45,22,78,20],[45,24,78,22],[45,25,78,23],[45,28,78,26,"state"],[45,33,78,31],[45,34,78,32,"affirmations"],[45,46,78,44],[45,48,78,46,"newAffirmation"],[45,62,78,60],[46,8,79,6],[46,9,79,7],[46,10,79,8],[46,11,79,9],[47,6,80,4],[47,7,80,5],[47,8,80,6],[47,15,80,13,"error"],[47,20,80,18],[47,22,80,20],[48,8,81,6,"console"],[48,15,81,13],[48,16,81,14,"error"],[48,21,81,19],[48,22,81,20],[48,50,81,48],[48,52,81,50,"error"],[48,57,81,55],[48,58,81,56],[49,8,82,6],[49,14,82,12,"error"],[49,19,82,17],[50,6,83,4],[51,4,84,2],[51,5,84,3],[52,4,86,2,"updateAffirmation"],[52,21,86,19],[52,23,86,21],[52,29,86,21,"updateAffirmation"],[52,30,86,28,"id"],[52,32,86,38],[52,34,86,40,"data"],[52,38,86,79],[52,43,86,84],[53,6,87,4],[53,10,87,8],[54,8,88,6],[54,14,88,12,"response"],[54,22,88,20],[54,25,88,23],[54,31,88,29,"fetch"],[54,36,88,34],[54,37,88,35],[54,40,88,38,"BACKEND_URL"],[54,51,88,49],[54,72,88,70,"id"],[54,74,88,72],[54,76,88,74],[54,78,88,76],[55,10,89,8,"method"],[55,16,89,14],[55,18,89,16],[55,23,89,21],[56,10,90,8,"headers"],[56,17,90,15],[56,19,90,17],[57,12,90,19],[57,26,90,33],[57,28,90,35],[58,10,90,54],[58,11,90,55],[59,10,91,8,"body"],[59,14,91,12],[59,16,91,14,"JSON"],[59,20,91,18],[59,21,91,19,"stringify"],[59,30,91,28],[59,31,91,29,"data"],[59,35,91,33],[60,8,92,6],[60,9,92,7],[60,10,92,8],[61,8,93,6],[61,14,93,12,"updatedAffirmation"],[61,32,93,30],[61,35,93,33],[61,41,93,39,"response"],[61,49,93,47],[61,50,93,48,"json"],[61,54,93,52],[61,55,93,53],[61,56,93,54],[62,8,94,6,"set"],[62,11,94,9],[62,12,94,11,"state"],[62,17,94,16],[62,22,94,22],[63,10,95,8,"affirmations"],[63,22,95,20],[63,24,95,22,"state"],[63,29,95,27],[63,30,95,28,"affirmations"],[63,42,95,40],[63,43,95,41,"map"],[63,46,95,44],[63,47,95,46,"aff"],[63,50,95,49],[63,54,96,10,"aff"],[63,57,96,13],[63,58,96,14,"id"],[63,60,96,16],[63,65,96,21,"id"],[63,67,96,23],[63,70,96,26,"updatedAffirmation"],[63,88,96,44],[63,91,96,47,"aff"],[63,94,97,8],[64,8,98,6],[64,9,98,7],[64,10,98,8],[64,11,98,9],[65,6,99,4],[65,7,99,5],[65,8,99,6],[65,15,99,13,"error"],[65,20,99,18],[65,22,99,20],[66,8,100,6,"console"],[66,15,100,13],[66,16,100,14,"error"],[66,21,100,19],[66,22,100,20],[66,53,100,51],[66,55,100,53,"error"],[66,60,100,58],[66,61,100,59],[67,8,101,6],[67,14,101,12,"error"],[67,19,101,17],[68,6,102,4],[69,4,103,2],[69,5,103,3],[70,4,105,2,"deleteAffirmation"],[70,21,105,19],[70,23,105,21],[70,29,105,28,"id"],[70,31,105,38],[70,35,105,43],[71,6,106,4],[71,10,106,8],[72,8,107,6],[72,14,107,12,"fetch"],[72,19,107,17],[72,20,107,18],[72,23,107,21,"BACKEND_URL"],[72,34,107,32],[72,55,107,53,"id"],[72,57,107,55],[72,59,107,57],[72,61,107,59],[73,10,108,8,"method"],[73,16,108,14],[73,18,108,16],[74,8,109,6],[74,9,109,7],[74,10,109,8],[75,8,110,6,"set"],[75,11,110,9],[75,12,110,11,"state"],[75,17,110,16],[75,22,110,22],[76,10,111,8,"affirmations"],[76,22,111,20],[76,24,111,22,"state"],[76,29,111,27],[76,30,111,28,"affirmations"],[76,42,111,40],[76,43,111,41,"filter"],[76,49,111,47],[76,50,111,49,"aff"],[76,53,111,52],[76,57,111,57,"aff"],[76,60,111,60],[76,61,111,61,"id"],[76,63,111,63],[76,68,111,68,"id"],[76,70,111,70],[77,8,112,6],[77,9,112,7],[77,10,112,8],[77,11,112,9],[78,6,113,4],[78,7,113,5],[78,8,113,6],[78,15,113,13,"error"],[78,20,113,18],[78,22,113,20],[79,8,114,6,"console"],[79,15,114,13],[79,16,114,14,"error"],[79,21,114,19],[79,22,114,20],[79,53,114,51],[79,55,114,53,"error"],[79,60,114,58],[79,61,114,59],[80,8,115,6],[80,14,115,12,"error"],[80,19,115,17],[81,6,116,4],[82,4,117,2],[82,5,117,3],[83,4,119,2,"fetchTodayProgress"],[83,22,119,20],[83,24,119,22],[83,30,119,22,"fetchTodayProgress"],[83,31,119,22],[83,36,119,34],[84,6,120,4],[84,10,120,8],[85,8,121,6],[85,14,121,12,"response"],[85,22,121,20],[85,25,121,23],[85,31,121,29,"fetch"],[85,36,121,34],[85,37,121,35],[85,40,121,38,"BACKEND_URL"],[85,51,121,49],[85,72,121,70],[85,73,121,71],[86,8,122,6],[86,14,122,12,"data"],[86,18,122,16],[86,21,122,19],[86,27,122,25,"response"],[86,35,122,33],[86,36,122,34,"json"],[86,40,122,38],[86,41,122,39],[86,42,122,40],[87,8,123,6,"set"],[87,11,123,9],[87,12,123,10],[88,10,123,12,"dailyProgress"],[88,23,123,25],[88,25,123,27,"data"],[89,8,123,32],[89,9,123,33],[89,10,123,34],[90,6,124,4],[90,7,124,5],[90,8,124,6],[90,15,124,13,"error"],[90,20,124,18],[90,22,124,20],[91,8,125,6,"console"],[91,15,125,13],[91,16,125,14,"error"],[91,21,125,19],[91,22,125,20],[91,49,125,47],[91,51,125,49,"error"],[91,56,125,54],[91,57,125,55],[92,6,126,4],[93,4,127,2],[93,5,127,3],[94,4,129,2,"markAffirmationComplete"],[94,27,129,25],[94,29,129,27],[94,35,129,34,"affirmationId"],[94,48,129,55],[94,52,129,60],[95,6,130,4],[95,10,130,8],[96,8,131,6],[96,14,131,12,"today"],[96,19,131,17],[96,22,131,20],[96,26,131,24,"Date"],[96,30,131,28],[96,31,131,29],[96,32,131,30],[96,33,131,31,"toISOString"],[96,44,131,42],[96,45,131,43],[96,46,131,44],[96,47,131,45,"split"],[96,52,131,50],[96,53,131,51],[96,56,131,54],[96,57,131,55],[96,58,131,56],[96,59,131,57],[96,60,131,58],[97,8,132,6],[97,14,132,12,"response"],[97,22,132,20],[97,25,132,23],[97,31,132,29,"fetch"],[97,36,132,34],[97,37,132,35],[97,40,132,38,"BACKEND_URL"],[97,51,132,49],[97,80,132,78],[97,82,132,80],[98,10,133,8,"method"],[98,16,133,14],[98,18,133,16],[98,24,133,22],[99,10,134,8,"headers"],[99,17,134,15],[99,19,134,17],[100,12,134,19],[100,26,134,33],[100,28,134,35],[101,10,134,54],[101,11,134,55],[102,10,135,8,"body"],[102,14,135,12],[102,16,135,14,"JSON"],[102,20,135,18],[102,21,135,19,"stringify"],[102,30,135,28],[102,31,135,29],[103,12,135,31,"date"],[103,16,135,35],[103,18,135,37,"today"],[103,23,135,42],[104,12,135,44,"affirmation_id"],[104,26,135,58],[104,28,135,60,"affirmationId"],[105,10,135,74],[105,11,135,75],[106,8,136,6],[106,9,136,7],[106,10,136,8],[107,8,137,6],[107,14,137,12,"data"],[107,18,137,16],[107,21,137,19],[107,27,137,25,"response"],[107,35,137,33],[107,36,137,34,"json"],[107,40,137,38],[107,41,137,39],[107,42,137,40],[108,8,138,6,"set"],[108,11,138,9],[108,12,138,10],[109,10,138,12,"dailyProgress"],[109,23,138,25],[109,25,138,27,"data"],[110,8,138,32],[110,9,138,33],[110,10,138,34],[112,8,140,6],[113,8,141,6],[113,14,141,12,"get"],[113,17,141,15],[113,18,141,16],[113,19,141,17],[113,20,141,18,"fetchSettings"],[113,33,141,31],[113,34,141,32],[113,35,141,33],[114,6,142,4],[114,7,142,5],[114,8,142,6],[114,15,142,13,"error"],[114,20,142,18],[114,22,142,20],[115,8,143,6,"console"],[115,15,143,13],[115,16,143,14,"error"],[115,21,143,19],[115,22,143,20],[115,60,143,58],[115,62,143,60,"error"],[115,67,143,65],[115,68,143,66],[116,8,144,6],[116,14,144,12,"error"],[116,19,144,17],[117,6,145,4],[118,4,146,2],[118,5,146,3],[119,4,148,2,"fetchSettings"],[119,17,148,15],[119,19,148,17],[119,25,148,17,"fetchSettings"],[119,26,148,17],[119,31,148,29],[120,6,149,4],[120,10,149,8],[121,8,150,6],[121,14,150,12,"response"],[121,22,150,20],[121,25,150,23],[121,31,150,29,"fetch"],[121,36,150,34],[121,37,150,35],[121,40,150,38,"BACKEND_URL"],[121,51,150,49],[121,66,150,64],[121,67,150,65],[122,8,151,6],[122,14,151,12,"data"],[122,18,151,16],[122,21,151,19],[122,27,151,25,"response"],[122,35,151,33],[122,36,151,34,"json"],[122,40,151,38],[122,41,151,39],[122,42,151,40],[123,8,152,6,"set"],[123,11,152,9],[123,12,152,10],[124,10,152,12,"settings"],[124,18,152,20],[124,20,152,22,"data"],[125,8,152,27],[125,9,152,28],[125,10,152,29],[126,6,153,4],[126,7,153,5],[126,8,153,6],[126,15,153,13,"error"],[126,20,153,18],[126,22,153,20],[127,8,154,6,"console"],[127,15,154,13],[127,16,154,14,"error"],[127,21,154,19],[127,22,154,20],[127,49,154,47],[127,51,154,49,"error"],[127,56,154,54],[127,57,154,55],[128,6,155,4],[129,4,156,2],[129,5,156,3],[130,4,158,2,"updateSettings"],[130,18,158,16],[130,20,158,18],[130,26,158,25,"data"],[130,30,158,48],[130,34,158,53],[131,6,159,4],[131,10,159,8],[132,8,160,6],[132,14,160,12,"response"],[132,22,160,20],[132,25,160,23],[132,31,160,29,"fetch"],[132,36,160,34],[132,37,160,35],[132,40,160,38,"BACKEND_URL"],[132,51,160,49],[132,66,160,64],[132,68,160,66],[133,10,161,8,"method"],[133,16,161,14],[133,18,161,16],[133,23,161,21],[134,10,162,8,"headers"],[134,17,162,15],[134,19,162,17],[135,12,162,19],[135,26,162,33],[135,28,162,35],[136,10,162,54],[136,11,162,55],[137,10,163,8,"body"],[137,14,163,12],[137,16,163,14,"JSON"],[137,20,163,18],[137,21,163,19,"stringify"],[137,30,163,28],[137,31,163,29,"data"],[137,35,163,33],[138,8,164,6],[138,9,164,7],[138,10,164,8],[139,8,165,6],[139,14,165,12,"updatedSettings"],[139,29,165,27],[139,32,165,30],[139,38,165,36,"response"],[139,46,165,44],[139,47,165,45,"json"],[139,51,165,49],[139,52,165,50],[139,53,165,51],[140,8,166,6,"set"],[140,11,166,9],[140,12,166,10],[141,10,166,12,"settings"],[141,18,166,20],[141,20,166,22,"updatedSettings"],[142,8,166,38],[142,9,166,39],[142,10,166,40],[143,6,167,4],[143,7,167,5],[143,8,167,6],[143,15,167,13,"error"],[143,20,167,18],[143,22,167,20],[144,8,168,6,"console"],[144,15,168,13],[144,16,168,14,"error"],[144,21,168,19],[144,22,168,20],[144,50,168,48],[144,52,168,50,"error"],[144,57,168,55],[144,58,168,56],[145,8,169,6],[145,14,169,12,"error"],[145,19,169,17],[146,6,170,4],[147,4,171,2],[148,2,172,0],[148,3,172,1],[148,4,172,2],[148,5,172,3],[149,0,172,4],[149,3]],"functionMap":{"names":["<global>","create$argument_0","fetchAffirmations","addAffirmation","set$argument_0","updateAffirmation","state.affirmations.map$argument_0","deleteAffirmation","state.affirmations.filter$argument_0","fetchTodayProgress","markAffirmationComplete","fetchSettings","updateSettings"],"mappings":"AAA;4DCoD;qBCM;GDQ;kBEE;UCQ;QDE;GFK;qBIE;UDQ;6CEC;kDFC;QCE;GJK;qBME;UHK;gDIC,sBJ;QGC;GNK;sBQE;GRQ;2BSE;GTiB;iBUE;GVQ;kBWE;GXa;EDC"},"hasCjsExports":false},"type":"js/module"}]}